(()=>{"use strict";function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw r}}return l}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var n=React,a=n.useEffect,r=n.useState;function o(t){var n=t.text,o=t.isDismissable,i=void 0===o||o,l=e(r(!0),2),c=l[0],s=l[1];return a((function(){c||ReactDOM.unmountComponentAtNode(document.getElementById("igd-pro-modal"))}),[c]),a((function(){var e=jQuery;function t(){var e=(new Date).getTime()+2.3*24*60*60*1e3;localStorage.setItem("igd_offer_time",e),n=e}i&&e(document).on("click",".igd-pro-modal-wrap",(function(t){e(t.target).hasClass("igd-pro-modal-wrap")&&s(!1)}));var n=localStorage.getItem("igd_offer_time");!n||isNaN(n)?t():n=parseInt(n),setInterval((function(){var a=(new Date).getTime(),r=n-a;r<0&&(t(),r=n-a);var o=Math.floor(r/864e5),i=Math.floor(r%864e5/36e5),l=Math.floor(r%36e5/6e4),c=Math.floor(r%6e4/1e3);e(".timer .days span:first").text(o),e(".timer .hours span:first").text(i),e(".timer .minutes span:first").text(l),e(".timer .seconds span:first").text(c)}),1e3)}),[]),c?React.createElement("div",{className:"igd-pro-modal-wrap"},React.createElement("div",{className:"igd-pro-modal"},React.createElement("span",{className:"igd-pro-modal-close",onClick:function(){return s(!1)}},"Ã—"),React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/offer.svg"),alt:"Upgrade to Pro"}),React.createElement("div",{className:"discount"},React.createElement("span",{className:"discount-special"},wp.i18n.__("Special","igd-dark-mode")),React.createElement("span",{className:"discount-text"},wp.i18n.__("30% OFF","igd-dark-mode"))),React.createElement("h3",null,wp.i18n.__("Unlock PRO Feature","integrate-google-drive")),React.createElement("p",null,n),React.createElement("div",{className:"timer"},React.createElement("div",{className:"days"},React.createElement("span",null,"0"),React.createElement("span",null,"DAYS")),React.createElement("div",{className:"hours"},React.createElement("span",null,"0"),React.createElement("span",null,"HOURS")),React.createElement("div",{className:"minutes"},React.createElement("span",null,"0"),React.createElement("span",null,"MINUTES")),React.createElement("div",{className:"seconds"},React.createElement("span",null,"0"),React.createElement("span",null,"SECONDS"))),React.createElement("div",{className:"igd-pro-modal-actions"},React.createElement("a",{href:igd.upgradeUrl,className:"igd-btn btn-primary"},wp.i18n.__("Upgrade Now","integrate-google-drive"))))):null}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function l(){l=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",d=o.toStringTag||"@@toStringTag";function g(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{g({},"")}catch(e){g=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof b?t:b,i=Object.create(o.prototype),l=new j(a||[]);return r(i,"_invoke",{value:P(e,n,l)}),i}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="suspendedYield",v="executing",w="completed",h={};function b(){}function y(){}function _(){}var R={};g(R,c,(function(){return this}));var E=Object.getPrototypeOf,N=E&&E(E(D([])));N&&N!==n&&a.call(N,c)&&(R=N);var S=_.prototype=b.prototype=Object.create(R);function A(e){["next","throw","return"].forEach((function(t){g(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(r,o,l,c){var s=m(e[r],e,o);if("throw"!==s.type){var d=s.arg,g=d.value;return g&&"object"==i(g)&&a.call(g,"__await")?t.resolve(g.__await).then((function(e){n("next",e,l,c)}),(function(e){n("throw",e,l,c)})):t.resolve(g).then((function(e){d.value=e,l(d)}),(function(e){return n("throw",e,l,c)}))}c(s.arg)}var o;r(this,"_invoke",{value:function(e,a){function r(){return new t((function(t,r){n(e,a,t,r)}))}return o=o?o.then(r,r):r()}})}function P(t,n,a){var r=p;return function(o,i){if(r===v)throw new Error("Generator is already running");if(r===w){if("throw"===o)throw i;return{value:e,done:!0}}for(a.method=o,a.arg=i;;){var l=a.delegate;if(l){var c=k(l,a);if(c){if(c===h)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(r===p)throw r=w,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r=v;var s=m(t,n,a);if("normal"===s.type){if(r=a.done?w:f,s.arg===h)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(r=w,a.method="throw",a.arg=s.arg)}}}function k(t,n){var a=n.method,r=t.iterator[a];if(r===e)return n.delegate=null,"throw"===a&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),h;var o=m(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(a.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(i(t)+" is not iterable")}return y.prototype=_,r(S,"constructor",{value:_,configurable:!0}),r(_,"constructor",{value:y,configurable:!0}),y.displayName=g(_,d,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,g(e,d,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},A(O.prototype),g(O.prototype,s,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,a,r,o){void 0===o&&(o=Promise);var i=new O(u(e,n,a,r),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},A(S),g(S,d,"Generator"),g(S,c,(function(){return this})),g(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},t.values=D,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(F),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(a,r){return l.type="throw",l.arg=t,n.next=a,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),F(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;F(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,a){return this.delegate={iterator:D(t),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=e),h}},t}function c(e,t,n,a,r,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(a,r)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:igd.activeAccount,n=t.root_id,a=t.id,r=[{accountId:a,id:n,name:wp.i18n.__("My Drive","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/my-drive.svg")},{accountId:a,id:"shared-drives",name:wp.i18n.__("Shared Drives","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/shared-drives.svg")},{accountId:a,id:"computers",name:wp.i18n.__("Computers","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/computers.svg")},{accountId:a,id:"shared",name:wp.i18n.__("Shared with me","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/shared.svg")},{accountId:a,id:"starred",name:wp.i18n.__("Starred","integrate-google-drive"),type:"application/vnd.google-apps.folder",iconLink:"".concat(igd.pluginUrl,"/assets/images/starred.svg")}];return e?r.find((function(t){return t.id==e})):r}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wp.i18n.__("Upgrade to PRO to use this feature.","integrate-google-drive"),t=document.getElementById("igd-pro-modal");t||((t=document.createElement("div")).id="igd-pro-modal",document.body.appendChild(t)),ReactDOM.render(React.createElement(o,{text:e}),t)}function m(){var e=s(React.useState(!1),2),t=e[0],n=e[1];return React.useEffect((function(){n(!0)}),[]),t}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"550",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"600",n=window.screenLeft||window.screenX,a=window.screenTop||window.screenY,r=n+(window.innerWidth||document.documentElement.clientWidth||screen.width)/2-e/2,o=a+(window.innerHeight||document.documentElement.clientHeight||screen.height)/2-t/2,i=window.open(igd.authUrl,"newwindow","width=".concat(e,",height=").concat(t,",left=").concat(r,",top=").concat(o));i.focus&&i.focus()}function f(){var e;return e=l().mark((function e(){var t,n,a,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("igd_last_review_popup"),n=Number(localStorage.getItem("igd_remind_in_days"))||2,a=(new Date).getTime(),r=24*n*60*60*1e3,!(t&&a-t<=r)){e.next=6;break}return e.abrupt("return");case 6:return localStorage.setItem("igd_last_review_popup",(new Date).getTime()),e.next=9,Swal.fire({title:wp.i18n.__("Are You Enjoying This Plugin?","integrate-google-drive"),text:wp.i18n.__("Your feedback helps us create a better experience for you.","integrate-google-drive"),icon:"question",showDenyButton:!0,confirmButtonText:wp.i18n.__("Yes, I'm enjoying it","integrate-google-drive"),denyButtonText:wp.i18n.__("Not really","integrate-google-drive"),reverseButtons:!0,allowOutsideClick:!1,allowEscapeKey:!1,showCloseButton:!0,customClass:{container:"igd-swal igd-review-swal"}}).then((function(e){e.isConfirmed?Swal.fire({title:wp.i18n.__("We're glad to hear that!","integrate-google-drive"),text:wp.i18n.__("Would you mind taking a few minutes to rate us and write a review?","integrate-google-drive"),icon:"success",showDenyButton:!0,confirmButtonText:wp.i18n.__("Sure, I'd be happy to","integrate-google-drive"),denyButtonText:wp.i18n.__("Maybe later","integrate-google-drive"),reverseButtons:!0,allowOutsideClick:!1,allowEscapeKey:!1,customClass:{container:"igd-swal igd-review-swal"}}).then((function(e){e.isConfirmed?(window.open("https://wordpress.org/support/plugin/integrate-google-drive/reviews/?filter=5#new-post","_blank"),wp.ajax.post("igd_hide_review_notice")):e.isDenied&&localStorage.setItem("igd_remind_in_days",10)})):e.isDenied&&Swal.fire({title:wp.i18n.__("Sorry to hear that!","integrate-google-drive"),text:wp.i18n.__("Could you please provide us with some feedback to help us improve?","integrate-google-drive"),input:"textarea",inputPlaceholder:wp.i18n.__("Enter your feedback here...","integrate-google-drive"),showCancelButton:!1,confirmButtonText:wp.i18n.__("Submit","integrate-google-drive"),showLoaderOnConfirm:!0,showCloseButton:!0,allowOutsideClick:!1,allowEscapeKey:!1,customClass:{container:"igd-swal igd-review-swal"}}).then((function(e){e.isConfirmed?(Swal.fire({title:wp.i18n.__("Thank you for your feedback!","integrate-google-drive"),text:wp.i18n.__("We'll use your feedback to improve our plugin.","integrate-google-drive"),icon:"info",customClass:{container:"igd-swal igd-review-swal"}}),wp.ajax.post("igd_review_feedback",{feedback:e.value})):e.isDismissed&&wp.ajax.post("igd_hide_review_notice")}))}));case 9:e.sent;case 10:case"end":return e.stop()}}),e)})),f=function(){var t=this,n=arguments;return new Promise((function(a,r){var o=e.apply(t,n);function i(e){c(o,a,r,i,l,"next",e)}function l(e){c(o,a,r,i,l,"throw",e)}i(void 0)}))},f.apply(this,arguments)}function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e,t,n){var a;return a=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=v(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==v(a)?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var _=React.useState,R=window.ReactTooltip;function E(){var e=b(_(igd.accounts),2),t=e[0],n=e[1],a=b(_(!1),2),r=a[0],o=a[1],i=igd.isPro;return React.createElement("div",{className:"igd-settings-body"},React.createElement("span",{className:"igd-settings-body-title"},wp.i18n.__("Google Accounts","integrate-google-drive")),Object.keys(t).length?Object.keys(t).map((function(e){var a=t[e],r=a.id,o=a.name,i=a.photo,l=a.email,c=a.lost;return React.createElement("div",{key:e,className:"igd-account-item"},React.createElement("img",{referrerPolicy:"no-referrer",onError:function(e){return function(e,t){e.onerror=null;var n="https://www.gravatar.com/avatar/"+t+"?s=200&d=mm";e.src===n?e.src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAyADIAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+t6KMUtACZooxRQAUZpaSgAozRiloASijFGKADNFLRigBM0UUtACUUtJigAopaKAE5oopaAEo5paKAEoopaAE5opaKAEooooAWkoooAMUUUUAFFFFABRRRQAUUUUAGKKKKACiiigApaSigAooooAWkoooAKWkooAKKKKAClpKWgBKKKKACiiloASiiigAop8UTzyLHGrSOxwqqMkmvTPCnwpXYl1rJJY8i0Q8D/eP9B+dAHnVjpl3qcvl2ltLcv6RoWx9fSumsvhXr10AZI4bUH/AJ7Sc/kua9ltLO3sIRDbQxwRDokahR+QqagDyL/hTmp7f+P20z6Zb/CqV58KddtgTGkF0PSKTB/8exXtVFAHzff6Re6VJsvLWW2bt5ikA/Q96qV9LXNrDeRGKeJJ426pIoYH8DXnvir4UxTK9zox8qXqbVj8p/3T2+h/SgDyujFSTwSWszwzRtHKh2sjDBBqOgApaSigAoo7UUAFFFFAC0UlFABRRiigAooooAKKKKAClUFmAAJJ4AApK7r4V+GxqmqNqE6hoLQjaD/FIen5dfyoA634f+B00G2W9vEDajIMgN/yxB7D39fyrtKKSgApaKKACkopaACikxRQByXjzwTF4jtGubdAmpRD5WHHmD+6f6GvFJEeJ2R1KOpwVYYIPpX0zXkvxY8NLZXseqwKFiuDslAHR8dfxA/T3oA8+oxR0ooAKKMUYoAMUUUYoAKKMUUAFGaKM0AFFFFABR3oooAK978CaUNJ8L2MW3bJIgmf/ebn9BgfhXhFtF59zFGP43C/ma+lY0EaKi8KoAFADqKKKAEpaSloAKSlpKACloooASsjxdpY1nw5fW23LmMsn+8OR+orXpTyKAPmSlqzq1uLTVLyAcCKZ0GfZiKq0AFHNFFABS0mKKACiiigAoopaAEo60UUAFFFHegCxp8giv7Zz0SVSfzFfSdfMoPOa+ivD+oDVdEsbsHPmxKT7HHI/PNAGhSUtFABRRRQAlFLRQAlFGaWgBKKWqup3y6bp1zdv92GNnP4DNAHz74gkEuvalIOjXMpH4uaoU53MjszcliSTSUAJRS0lABRS0UAJiiiigAooxRQAUUUfpQAUUUUAFerfCLXlms59KlceZEfMhB7qeoH0PP415TirekapPouowXts22WJsj0I7g+xFAH0hSdqzvD+u2/iLTYry2PDDDoTyjdwa0aAClpOlFAC0lLSUALRSUv4UAJXBfFrXls9Jj02Jx51yQzgdRGP8Tj8jXYa1rFtoWnS3l022NBwO7HsB714Drusz6/qk97cH55DwoPCr2AoAodaKMUUAFFFFABRRRQAUUdaKACiiigAo6UUUAFFFFABiiiigDY8M+J7vwvfefbNujbiWFj8rj/AB969q8O+KrDxNbCS1l2ygfPA5w6fh3HvXkfhz4f6p4hCyiMWtqf+W8wxkf7I6n+XvXpnh74d6X4fkjnCvc3aciaQ4wfYDgfrQB1FFFLQAn50UtJQAtZWv8AiWw8N2pmu5sMR8kSnLv9B/WtWuY8R/D3TPEUjzsJLe7brNG2cn3B4/lQB5P4q8WXfiq88yb93bpnyoFPCj+p96w66bxH8P8AVPDwaUoLq0H/AC3hGcf7w6j+XvXMmgAooooAMUUGjNABRiiigAoozRQAUUUUAFFFFABRRUkEEl1OkMKNJK7BVRRkkntQAW9vLdzJDDG0srkKqKMkmvWPB3wyg00Jd6qq3F31WA8pH9fU/pWl4G8DxeGrYT3CrJqTj5n6iMf3V/qa6ygAAAAAHFHaiigA6UUUUALSUUtACUClpM0ABGRgjg1wPjH4ZQ6isl3pSrb3fVoOiSfT0P6V39FAHzRcW8tpO8M0bRSodrIwwQajr27xz4Hh8S2xnt1WPUox8r9BIP7rf0NeKzwSWs8kMyNHKjFWRhggjtQBHRRRQAUUUUAFFFFABRRRQAUUUdaACvWvhh4PFjbrq12n+kSr+4Vh9xD/ABfU/wAvrXF+AfDX/CR64gkUmzt8STeh9F/E/pmvdAAowOAOMUAKaSiloAKKTNHagApaSjNAC0lAooAMUtJmgUAFGMUUZ4oAWvPvif4PF9bPq9omLiEfv0UffQfxfUfy+legZoIDAg8g8YoA+ZaK6Xx94a/4RzW3Ea4s7jMkJ7D1X8D+mK5qgAooooAKKKKACiiigAoorZ8IaR/bniKytSu6Ivvk/wB0cn+WPxoA9c+HugjQ/DkO9dtzcDzpT9eg/AY/WumpOg7YooAXrSUtJQAUtJS0AJRRRQAuaKKSgBaKSloAKKSigBc0UUlAHNfELQRrvhyfYu64tx50R+nUfiM/jivCq+miOtfP3i/SP7D8RXtqBtjD74/91uR/PH4UAY1FFFABRRRQAUUUd6ACvSPg3p2+6v74j7irCp+pyf5D8683r2n4UWf2bwmsuMGeZ5Py+X/2WgDsqDQaKACij8KSgBaO1JS/hQAUUlFACikpfwooAM0Cij8KAEpe1FFABRRRQAV5Z8ZNO2XWn3yj76GFj9OR/M/lXqdcb8VrMXPhN5MZMEySD8fl/wDZqAPFqKKKACiiigAooooAK9+8DweR4R0tfWEP+fP9aKKAN2iiigApKKKACloooASloooAKSiigApaKKAEooooAXFJRRQAVh+OYPtHhLVF64hL/wDfPP8ASiigDwGiiigAooooA//Z":e.src=n}(e.currentTarget,l)},src:i}),React.createElement("div",{className:"igd-account-item-info"},React.createElement("span",{className:"account-name"},o),React.createElement("span",{className:"account-email"},l)),React.createElement("div",{className:"igd-account-item-action"},c&&React.createElement("button",{className:"igd-btn btn-primary",onClick:p},React.createElement("i",{className:"dashicons dashicons-update"}),React.createElement("span",null,wp.i18n.__("Refresh","integrate-google-drive"))),React.createElement("button",{"data-tip":wp.i18n.__("Remove account","integrate-google-drive"),"data-for":"remove-account",className:"igd-btn btn-danger",onClick:function(){Swal.fire({title:wp.i18n.__("Are you sure?","integrate-google-drive"),text:wp.i18n.__("You won't be able to revert this!","integrate-google-drive"),icon:"warning",showCancelButton:!0,confirmButtonText:wp.i18n.__("Yes, remove it!","integrate-google-drive"),reverseButtons:!0,showLoaderOnConfirm:!0,customClass:{container:"igd-swal"},preConfirm:function(){return wp.ajax.post("igd_delete_account",{id:r})}}).then((function(a){a.value&&(delete t[e],n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t)),Swal.fire({title:wp.i18n.__("Removed!","integrate-google-drive"),text:wp.i18n.__("Account has been removed.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:1500,toast:!0}))}))}},React.createElement("i",{className:"dashicons dashicons-trash"}),React.createElement("span",null,wp.i18n.__("Remove","integrate-google-drive"))),React.createElement(R,{className:"igd-tooltip",id:"remove-account",place:"top",type:"dark",effect:"solid"})))})):React.createElement("div",{className:"no-account-placeholder"},React.createElement("span",{className:"placeholder-heading"},wp.i18n.__("You didn't link any Google account.","integrate-google-drive")),React.createElement("span",{className:"placeholder-desc"},wp.i18n.__("Link a Google account to continue.","integrate-google-drive"))),React.createElement("button",{"data-tip":wp.i18n.__("Multiple Accounts - PRO","integrate-google-drive"),"data-for":"addAccountPromo",className:"igd-btn add-account-btn",onClick:function(){i||!Object.keys(t).length?p():u(wp.i18n.__("Upgrade to PRO to add multiple accounts.","integrate-google-drive"))}},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/google-icon.png")}),React.createElement("span",null,wp.i18n.__("Add new account","integrate-google-drive")),!i&&!!Object.keys(t).length&&React.createElement(R,{id:"addAccountPromo",effect:"solid",place:"right",backgroundColor:"#ff9966",className:"igd-tooltip"})),React.createElement("div",{className:"privacy-text-wrap"},React.createElement("div",{className:"privacy-text-btn",onClick:function(){return o(!r)}},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/settings/privacy.svg"),alt:"Privacy"}),React.createElement("span",null,wp.i18n.__("See what happens with your data when you authorize?","integrate-google-drive")),React.createElement("i",{className:"dashicons dashicons-arrow-down-alt2"})),r&&React.createElement("div",{className:"privacy-text"},React.createElement("h4",null,wp.i18n.__("Requested scopes and justification","integrate-google-drive")),React.createElement("p",null,wp.i18n.__("In order to display your Google Drive cloud files, you have to authorize it with your Google account.\n\n                            The authorization will ask you to grant the application the https://www.googleapis.com/auth/drive scope.\n\n                            The scope is needed to allow the plugin to see, edit, create, and delete all of your Google\n                            Drive files and files that are shared with you.","integrate-google-drive")),React.createElement("h4",null,wp.i18n.__("Information about the data","integrate-google-drive")),React.createElement("p",null,wp.i18n.__("The authorization tokens will be stored, encrypted, on your server and is not accessible by any third party.\n                            When you use the Application, all communications are strictly between your server and the\n                            cloud storage service servers. We do not collect and do not have access to your personal\n                            data.","integrate-google-drive")))))}function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){var a;return a=function(e,t){if("object"!=N(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=N(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==N(a)?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=wp.components.FormToggle;function k(e){var t=e.data,n=e.setData,a=igd.isPro,r=t.rememberLastFolder,o=void 0===r||r,i=t.ownApp,l=t.clientID,c=t.clientSecret,s=t.deleteData,d=t.workspaceDomain,g=t.manageSharing,m=void 0===g||g,p="".concat(igd.adminUrl,"?action=integrate-google-drive-authorization");return React.createElement("div",{className:"igd-settings-body"},React.createElement("h3",{className:"igd-settings-body-title"},wp.i18n.__("Advanced Settings","integrate-google-drive")),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Remember Last Opened Folder","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(P,{checked:o,onChange:function(){return n(A(A({},t),{},{rememberLastFolder:!o}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enable this to load the last opened folder when a visitor revisit a File Browser or Gallery module.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Google Workspace Domain","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:d,onChange:function(e){return n(A(A({},t),{},{workspaceDomain:e.target.value}))},placeholder:wp.i18n.__("Google Workspace Domain","integrate-google-drive")}),React.createElement("p",{className:"description"},wp.i18n.__("If you are using Google Workspace  and you want to share your documents ONLY with users having an account in your Google Workspace Domain, please insert your domain.","integrate-google-drive")),React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("p",{className:"igd-notice-content"},wp.i18n.__("To make your documents accessible to the public, please leave this field blank.","integrate-google-drive"))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Manage Sharing Permissions","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(P,{checked:m,onChange:function(){return n(A(A({},t),{},{manageSharing:!m}))}}),React.createElement("p",{className:"description"},wp.i18n.__("By default, the plugin will manage the sharing permissions of the documents. If you want to manage the sharing permissions manually, please disable this option.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Link Own Google App","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(P,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),checked:i&&a,onChange:function(){a?n(A(A({},t),{},{ownApp:!i})):u(wp.i18n.__("Upgrade to PRO to use your own Google App.","integrate-google-drive"))}}),!a&&React.createElement(ReactTooltip,{effect:"solid",place:"right",backgroundColor:"#ff9966",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Use your own Google app API instead of using the plugin default app API.","integrate-google-drive"),React.createElement("a",{href:"https://softlabbd.com/docs/how-to-link-your-own-google-app-with-the-plugin/",target:"_blank",className:"igd-btn btn-outline-info"},React.createElement("i",{className:"dashicons dashicons-editor-help"}),wp.i18n.__("Documentation","integrate-google-drive"))),a&&i&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field field-own-app"},React.createElement("div",{className:"igd-notice igd-notice-warning own-google-app-warning"},React.createElement("p",{className:"igd-notice-content"},wp.i18n.__("Using your own Google App is an optional option. For an easy setup you can just use the default App of the plugin itself. The advantage of using your own app is limited. If you decided to create your own Google App anyway, please enter your app Client ID & Secret key in the below settings.","integrate-google-drive")),React.createElement("br",null),React.createElement("p",{className:"igd-notice-content"},"On the ",React.createElement("a",{target:"_blank",href:"https://softlabbd.com/docs/how-to-link-your-own-google-app-with-the-plugin/"},"Documentation")," page you can find how you can create your own Google App.")),React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("App Client ID","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:l,onChange:function(e){return n(A(A({},t),{},{clientID:e.target.value}))},placeholder:wp.i18n.__("App Client ID","integrate-google-drive")}),React.createElement("p",{className:"description"},wp.i18n.__("Insert you app client ID.","integrate-google-drive"))),React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("App Secret Key","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:c,onChange:function(e){return n(A(A({},t),{},{clientSecret:e.target.value}))},placeholder:wp.i18n.__("App Secret Key","integrate-google-drive")}),React.createElement("p",{className:"description"},wp.i18n.__("Insert you app secret key.","integrate-google-drive"))),React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Redirect URI","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",value:p,readOnly:!0,onClick:function(e){e.target.select(),e.target.setSelectionRange(0,99999),navigator.clipboard.writeText(e.target.value),Swal.fire({title:wp.i18n.__("Copied to clipboard.","integrate-google-drive"),icon:"success",timer:1500,toast:!0,position:"top-end",showConfirmButton:!1,timerProgressBar:!0})}}),React.createElement("p",{className:"description"},wp.i18n.__("Copy the above redirect URI and set to your own google app.","integrate-google-drive"))))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Delete Data on Uninstall","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(P,{checked:s,onChange:function(){return n(A(A({},t),{},{deleteData:!s}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Delete the plugin data (settings, cache, accounts) on the uninstallation.","integrate-google-drive")))))}function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){var a;return a=function(e,t){if("object"!=C(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=C(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==C(a)?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=wp.components,x=U.SelectControl,B=U.FormToggle,I=U.ButtonGroup,L=U.Button,T=window,M=T.ModuleBuilderModal,K=T.ReactTooltip;function G(e){var t=e.data,n=e.setData,a=!!igd.isPro,r=t.autoSync,o=t.syncInterval,i=void 0===o?"never":o,l=t.customSyncInterval,c=t.syncType,s=void 0===c?"all":c,d=t.syncFolders,g=void 0===d?[]:d;return React.createElement("div",{className:"igd-settings-body"},React.createElement("h3",{className:"igd-settings-body-title"},wp.i18n.__("Auto Synchronization","integrate-google-drive"),React.createElement("a",{href:"https://softlabbd.com/docs/how-to-enable-auto-synchronization/",target:"_blank",className:"igd-btn btn-outline-info"},React.createElement("i",{className:"dashicons dashicons-editor-help"}),wp.i18n.__("Documentation","integrate-google-drive"))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Enable Auto Synchronization","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(B,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),checked:r&&a,onChange:function(){igd.isPro?n(j(j({},t),{},{autoSync:!r})):u(wp.i18n.__("Upgrade to PRO to enable auto synchronization.","integrate-google-drive"))}}),!a&&React.createElement(K,{effect:"solid",place:"right",backgroundColor:"#ff9966",className:"igd-tooltip"}),React.createElement("span",{className:"description"},wp.i18n.__("Enable/ disable the local cache file auto synchronization with the cloud files.","integrate-google-drive")))),(r||!a)&&React.createElement(React.Fragment,null,React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Synchronization Interval","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(x,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),value:i,options:[{label:"Never",value:"never"},{label:"1 Hour",value:3600},{label:"6 Hours",value:21600},{label:"24 Hours",value:86400},{label:"2 Days",value:172800},{label:"3 Days",value:259200},{label:"7 Days",value:604800},{label:"Custom",value:"custom"}],onChange:function(e){a?n(j(j({},t),{},{syncInterval:e})):u(wp.i18n.__("Upgrade to PRO to enable auto synchronization.","integrate-google-drive"))}}),!a&&React.createElement(K,{effect:"solid",place:"right",backgroundColor:"#ff9966",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Select the automatic cloud files synchronization interval.","integrate-google-drive")))),"custom"===i&&React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Custom Sync Interval","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"number",value:l,onChange:function(e){return n(j(j({},t),{},{customSyncInterval:e.target.value}))},min:60}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the custom synchronization interval in seconds (min: 60 seconds).","integrate-google-drive")),React.createElement("p",{className:"description"},wp.i18n.__("e.g: 3600 = 1 hour, 1800 = 30 minutes.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Synchronization Type","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(I,{"data-tip":"PRO Feature"},React.createElement(L,{isPrimary:"all"===s,isSecondary:"all"!==s,onClick:function(){igd.isPro?n(j(j({},t),{},{syncType:"all"})):u(wp.i18n.__("Upgrade to PRO to enable auto synchronization.","integrate-google-drive"))}},React.createElement("span",null,wp.i18n.__("All Folders","integrate-google-drive"))),React.createElement(L,{isPrimary:"selected"===s,isSecondary:"selected"!==s,onClick:function(){igd.isPro?n(j(j({},t),{},{syncType:"selected"})):u(wp.i18n.__("Upgrade to PRO to enable auto synchronization.","integrate-google-drive"))}},React.createElement("span",null,wp.i18n.__("Specific Selected Folders","integrate-google-drive")))),!igd.isPro&&React.createElement(K,{effect:"solid",place:"right",backgroundColor:"#ff9966",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Select the synchronization type.","integrate-google-drive")),React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("div",{className:"igd-notice-content"},React.createElement("div",null,React.createElement("strong",null,wp.i18n.__("All Folders","integrate-google-drive"))," - ",wp.i18n.__("All the cached folders will be synchronized with the cloud.","integrate-google-drive")),React.createElement("div",null,React.createElement("strong",null,wp.i18n.__("Specific Folders","integrate-google-drive"))," - ",wp.i18n.__("Syncs only chosen folders with the cloud, helpful for large sets of folders when only a few need synchronization.","integrate-google-drive")))),"selected"===s&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field sync-folders"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Select Folders","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"template-folder-wrap"},!!g.length&&g.map((function(e,a){var r=e.id,o=e.name,i=e.iconLink;return React.createElement("div",{className:"template-folder"},React.createElement("div",{className:"template-folder-item"},i?React.createElement("img",{src:i}):React.createElement("i",{className:"dashicons dashicons-category"}),React.createElement("span",{className:"template-folder-name"},o),React.createElement("div",{className:"dashicons dashicons-no-alt",onClick:function(){var e=g.filter((function(e){return e.id!==r}));n(j(j({},t),{},{syncFolders:e}))}})))})),React.createElement("button",{"data-tip":"PRO Feature",className:"igd-btn btn-info",onClick:function(){igd.isPro?Swal.fire({html:'<div id="igd-select-files" class="igd-module-builder-modal-wrap"></div>',showConfirmButton:!1,customClass:{container:"igd-module-builder-modal-container"},didOpen:function(e){var t=document.getElementById("igd-select-files");ReactDOM.render(React.createElement(M,{initData:{folders:g},onUpdate:function(e){var t=e.folders,a=void 0===t?[]:t;n((function(e){return j(j({},e),{},{syncFolders:a.map((function(e){return{id:e.id,name:e.name,iconLink:e.iconLink,accountId:e.accountId}}))})})),Swal.close()},onClose:function(){return Swal.close()},isSelectFiles:!0,selectionType:"folders"}),t)},willClose:function(e){var t=document.getElementById("igd-select-files");ReactDOM.unmountComponentAtNode(t)}}):u(wp.i18n.__("Upgrade to PRO to enable auto synchronization.","integrate-google-drive"))}},React.createElement("i",{className:"dashicons dashicons-open-folder"}),React.createElement("span",null,g.length?wp.i18n.__("Update Folders","integrate-google-drive"):wp.i18n.__("Select Folders","integrate-google-drive"))),!igd.isPro&&React.createElement(K,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"})),React.createElement("p",{className:"description"},wp.i18n.__("Select the folders to be synchronized with the cloud files.","integrate-google-drive")))))))))}function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function W(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n){var a;return a=function(e,t){if("object"!=Q(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Q(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Q(a)?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=wp.components,X=H.FormToggle,Y=H.CheckboxControl,Z=window.ReactTooltip;function $(e){var t=e.data,n=e.setData,a=t.integrations,r=void 0===a?["classic-editor","gutenberg-editor","elementor","divi","cf7"]:a,o=t.channels,i=void 0===o?["shareLink","embedCode","email"]:o,l=[{key:"media-library",title:wp.i18n.__("Media Library","integrate-google-drive"),description:wp.i18n.__("Integrate Google Drive with WordPress Media Library.","integrate-google-drive"),docLink:"https://softlabbd.com/docs/how-to-enable-google-drive-integration-with-media-library/",isPro:!0},{key:"classic-editor",title:wp.i18n.__("Classic Editor","integrate-google-drive"),description:wp.i18n.__("Add Google Drive module, embed documents and insert file view links and download links using the Google Drive button on the classic editor.","integrate-google-drive"),docLink:"https://softlabbd.com/docs/how-to-use-integrate-google-drive-with-classic-editor/"},{key:"gutenberg-editor",title:wp.i18n.__("Gutenberg Editor","integrate-google-drive"),description:wp.i18n.__("Add Google Drive modules, embed documents and insert file view links and download links using the Google Drive Gutenberg editor blocks","integrate-google-drive"),docLink:"https://softlabbd.com/docs/how-to-use-integrate-google-drive-with-gutenberg-editor/"},{key:"elementor",title:wp.i18n.__("Elementor","integrate-google-drive"),description:wp.i18n.__("Add Google Drive modules, embed documents and insert file view links and download links using the Google Drive Elementor widgets.","integrate-google-drive"),docLink:"https://softlabbd.com/docs/how-to-use-integrate-google-drive-with-elementor-editor/"},{key:"divi",title:wp.i18n.__("Divi","integrate-google-drive"),description:wp.i18n.__("Add Google Drive modules, embed documents and insert file view links and download links using the Google Drive Divi page builder modules.","integrate-google-drive"),docLink:"https://softlabbd.com/docs/how-to-use-integrate-google-drive-with-divi/"},{key:"acf",title:wp.i18n.__("Advanced Custom Fields","integrate-google-drive"),description:wp.i18n.__("Allows you to select Google Drive files and folders using ACF field and display in theme template file.","integrate-google-drive"),docLink:"https://softlabbd.com/docs/how-to-use-integrate-google-drive-with-advanced-custom-fields/",isPro:!0},{key:"woocommerce",title:wp.i18n.__("WooCommerce","integrate-google-drive"),description:wp.i18n.__("Allows you to serve your Google Drive files as downloadable files and let customer upload files to Google Drive on checkout.","integrate-google-drive"),docLink:"https://softlabbd.com/docs/how-to-allow-customers-to-upload-files-in-woocommerce-and-store-on-google-drive/",isPro:!0},{key:"dokan",title:wp.i18n.__("Dokan","integrate-google-drive"),description:wp.i18n.__("Allows vendors to serve their Google Drive files as downloadable files and let customer upload files to Google Drive on checkout.","integrate-google-drive"),docLink:"https://softlabbd.com/docs/how-to-allow-vendors-to-serve-sell-their-digital-download-files-directly-from-google-drive-in-dokan/",isPro:!0},{key:"edd",title:wp.i18n.__("Easy Digital Downloads","integrate-google-drive"),description:wp.i18n.__("Allows you to serve your Easy Digital Downloads files directly from Google Drive.","integrate-google-drive"),docLink:"https://softlabbd.com/docs/how-to-use-integrate-google-drive-with-easy-digital-downloads/",isPro:!0},{key:"tutor",title:wp.i18n.__("Tutor LMS","integrate-google-drive"),description:wp.i18n.__("Allows Instructors to link their Google accounts for efficient and independent course material management.","integrate-google-drive"),docLink:"https://softlabbd.com/docs/how-to-integrate-google-drive-with-the-tutor-lms-plugin/",isPro:!0},{key:"cf7",title:wp.i18n.__("Contact Form 7","integrate-google-drive"),description:wp.i18n.__("Allows you to upload your files directly to Google Drive from your Contact Form 7 upload field.","integrate-google-drive"),docLink:"https://softlabbd.com/docs/how-to-use-google-drive-uploader-field-with-contact-form-7/"},{key:"wpforms",title:wp.i18n.__("WPForms","integrate-google-drive"),description:wp.i18n.__("Allows you to upload your files directly to Google Drive from your WPForms upload field.","integrate-google-drive"),docLink:"https://softlabbd.com/docs/how-to-use-google-drive-uploader-field-with-wpforms/",isPro:!0},{key:"gravityforms",title:wp.i18n.__("Gravity Forms","integrate-google-drive"),description:wp.i18n.__("Allows you to upload your files directly to Google Drive from your Gravity Forms upload field.","integrate-google-drive"),docLink:"https://softlabbd.com/docs/how-to-use-google-drive-uploader-field-with-gravity-forms/",isPro:!0},{key:"fluentforms",title:wp.i18n.__("Fluent Forms","integrate-google-drive"),description:wp.i18n.__("Allows you to upload your files directly to Google Drive from your Fluent Forms upload field.","integrate-google-drive"),docLink:"https://softlabbd.com/docs/how-to-use-google-drive-uploader-field-with-fluent-forms/",isPro:!0},{key:"formidableforms",title:wp.i18n.__("Formidable Forms","integrate-google-drive"),description:wp.i18n.__("Allows you to upload your files directly to Google Drive from your Formidable Forms upload field.","integrate-google-drive"),docLink:"https://softlabbd.com/docs/how-to-use-google-drive-uploader-field-with-formidable-forms/",isPro:!0},{key:"ninjaforms",title:wp.i18n.__("Ninja Forms","integrate-google-drive"),description:wp.i18n.__("Allows effortless file uploads from Ninja Forms to Google Drive for quick and efficient storage.","integrate-google-drive"),docLink:"https://softlabbd.com/docs/how-to-use-google-drive-uploader-field-with-ninja-forms/",isPro:!0},{key:"elementor-form",title:wp.i18n.__("Elementor Form","integrate-google-drive"),description:wp.i18n.__("Allows effortless file uploads from Elementor PRO Form widget to Google Drive for quick and efficient storage.","integrate-google-drive"),docLink:"https://softlabbd.com/docs/upload-files-from-elementor-form-to-google-drive",isPro:!0},{key:"metform",title:wp.i18n.__("MetForm","integrate-google-drive"),description:wp.i18n.__("Allows effortless file uploads from MetForm to Google Drive for quick and efficient storage.","integrate-google-drive"),docLink:"https://softlabbd.com/docs/upload-files-from-metform-to-google-drive/",isPro:!0}];igd.isPro||l.sort((function(e,t){return e.isPro===t.isPro?0:e.isPro?1:-1}));var c=[{label:wp.i18n.__("Share Link","integrate-google-drive"),value:"shareLink",icon:"admin-links"},{label:wp.i18n.__("Embed Code","integrate-google-drive"),value:"embedCode",icon:"editor-code"},{label:wp.i18n.__("Email","integrate-google-drive"),value:"email",icon:"email"},{label:wp.i18n.__("Facebook","integrate-google-drive"),value:"facebook",icon:"facebook"},{label:wp.i18n.__("Twitter","integrate-google-drive"),value:"twitter",icon:"twitter"},{label:wp.i18n.__("WhatsApp","integrate-google-drive"),value:"whatsapp",icon:"whatsapp"}];return React.createElement("div",{className:"igd-settings-body"},React.createElement("div",{className:"integrations-wrapper settings-field"},React.createElement("div",{className:"integrations-header"},React.createElement("div",{className:"integrations-header-title"},React.createElement("h3",{className:"igd-settings-body-title"},wp.i18n.__("Plugins Integrations","integrate-google-drive")),React.createElement("p",{className:"description"},wp.i18n.__("Select the plugins you want to integrate with Integrate Google Drive.","integrate-google-drive"))),React.createElement("div",{className:"integrations-actions"},React.createElement("button",{className:"igd-btn btn-outline-primary",onClick:function(){n(V(V({},t),{},{integrations:l.filter((function(e){return!e.isPro||!!igd.isPro})).map((function(e){return e.key}))}))}},wp.i18n.__("Enable All","integrate-google-drive")),React.createElement("button",{className:"igd-btn btn-outline-warning",onClick:function(){n(V(V({},t),{},{integrations:[]}))}},wp.i18n.__("Disable All","integrate-google-drive")))),React.createElement("div",{className:"integrations"},l.map((function(e){var a=e.key,o=e.title,i=e.description,l=e.isPro,c=e.docLink,s=l?igd.isPro&&r.includes(a):r.includes(a),d=l&&!igd.isPro;return React.createElement("div",{key:a,className:"integration-item ".concat(d?"pro-item":""," ").concat(s?"active":""),onClick:function(){if(!l||igd.isPro){var e=s?r.filter((function(e){return e!==a})):[].concat(W(r),[a]);e.includes("dokan")&&!r.includes("woocommerce")?e.push("woocommerce"):!e.includes("woocommerce")&&e.includes("dokan")&&(e=e.filter((function(e){return"dokan"!==e}))),n(V(V({},t),{},{integrations:e}))}else u("Upgrade to PRO to enable ".concat(o," integration"))}},React.createElement("img",{className:"integration-item-img",src:"".concat(igd.pluginUrl,"/assets/images/settings/").concat(a,".png")}),React.createElement("a",{"data-tip":wp.i18n.__("Documentation","integrate-google-drive"),href:c,target:"_blank",className:"integration-item-doc-link",onClick:function(e){e.stopPropagation()}},React.createElement("i",{className:"dashicons dashicons-editor-help"})),React.createElement(Z,{className:"igd-tooltip",place:"top",type:"dark",effect:"solid"}),React.createElement("span",{className:"integration-item-title"},o),React.createElement("span",{className:"integration-item-description"},i),d&&React.createElement(React.Fragment,null,React.createElement("div",{className:"pro-badge","data-tip":wp.i18n.__("Available in PRO","integrate-google-drive"),"data-for":"integration-pro-tooltip-".concat(a)},React.createElement("i",{className:"dashicons dashicons-lock"})),React.createElement(Z,{className:"igd-tooltip",place:"top",type:"dark",effect:"solid",id:"integration-pro-tooltip-".concat(a)})),React.createElement(X,{className:"integration-item-toggle",checked:s}))})))),React.createElement("div",{className:"sharing-channels-wrap"},React.createElement("h3",{className:"igd-settings-body-title"},wp.i18n.__("File sharing channels","integrate-google-drive")),React.createElement("p",{className:"description"},wp.i18n.__("Select the sharing channels you want to show for the users in the file sharing modal.","integrate-google-drive")),React.createElement("div",{className:"sharing-channels"},c.map((function(e){return React.createElement(Y,{key:e.value,label:React.createElement("div",{className:"tool-option"},React.createElement("i",{className:"dashicons dashicons-"+e.icon})," ",e.label," "),checked:i.includes(e.value),onChange:function(){i.includes(e.value)?n(V(V({},t),{},{channels:i.filter((function(t){return t!==e.value}))})):n(V(V({},t),{},{channels:[].concat(W(i),[e.value])}))}})})))))}function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){var a;return a=function(e,t){if("object"!=ee(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=ee(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ee(a)?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=wp.components,oe=re.FormToggle,ie=re.SelectControl,le=re.TextControl,ce=window.ReactTooltip;function se(e){var t=e.data,n=e.setData,a=igd.isPro,r=t.enableStatistics,o=void 0!==r&&r,i=t.emailReport,l=void 0!==i&&i,c=t.emailReportFrequency,s=void 0===c?"weekly":c,d=t.emailReportRecipients;return React.createElement("div",{className:"igd-settings-body"},React.createElement("span",{className:"igd-settings-body-title"},wp.i18n.__("Statistics Settings","integrate-google-drive"),React.createElement("a",{href:"https://softlabbd.com/docs/understanding-the-integrate-google-drive-statistics-properly/",target:"_blank",className:"igd-btn btn-outline-info"},React.createElement("i",{className:"dashicons dashicons-editor-help"}),wp.i18n.__("Documentation","integrate-google-drive"))),React.createElement("div",{className:"settings-field"},React.createElement("span",{className:"settings-field-label"},wp.i18n.__("Enable Statistics","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(oe,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),checked:o,onChange:function(){a?n(ne(ne({},t),{},{enableStatistics:!o})):u(wp.i18n.__("Upgrade to PRO to enable the statistics.","integrate-google-drive"))}}),!a&&React.createElement(ce,{effect:"solid",place:"right",backgroundColor:"#ff9966",className:"igd-tooltip"}),React.createElement("span",{className:"description"},wp.i18n.__("Enable/ disable the statistics logs.","integrate-google-drive")))),(o||!a)&&React.createElement("div",{className:"settings-field"},React.createElement("span",{className:"settings-field-label"},wp.i18n.__("Email Reporting","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(oe,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),checked:l,onChange:function(){a?n(ne(ne({},t),{},{emailReport:!l})):u(wp.i18n.__("Upgrade to PRO to enable the statistics.","integrate-google-drive"))}}),!a&&React.createElement(ce,{effect:"solid",place:"right",backgroundColor:"#ff9966",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Enable / disable the statistics email reporting.","integrate-google-drive")))),(o&&l||!a)&&React.createElement(React.Fragment,null,React.createElement("div",{className:"settings-field"},React.createElement("span",{className:"settings-field-label"},wp.i18n.__("Email Report Frequency","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(ie,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),value:s,options:[{label:wp.i18n.__("Daily","integrate-google-drive"),value:"daily"},{label:wp.i18n.__("Weekly","integrate-google-drive"),value:"weekly"},{label:wp.i18n.__("Monthly","integrate-google-drive"),value:"monthly"}],onChange:function(e){a?n(ne(ne({},t),{},{emailReportFrequency:e})):u(wp.i18n.__("Upgrade to PRO to enable the statistics.","integrate-google-drive"))}}),!a&&React.createElement(ce,{effect:"solid",place:"right",backgroundColor:"#ff9966",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Select the email report frequency.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("span",{className:"settings-field-label"},wp.i18n.__("Email Report Recipients","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(le,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),value:d,onChange:function(e){a?n(ne(ne({},t),{},{emailReportRecipients:e})):u(wp.i18n.__("Upgrade to PRO to enable the statistics.","integrate-google-drive"))}}),!a&&React.createElement(ce,{effect:"solid",place:"right",backgroundColor:"#ff9966",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Enter the recipients email addresses separated by comma.","integrate-google-drive"))))))}function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){var a;return a=function(e,t){if("object"!=de(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=de(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==de(a)?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e){return function(e){if(Array.isArray(e))return we(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ve(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw r}}return l}}(e,t)||ve(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e,t){if(e){if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var he=React,be=he.useEffect,ye=he.useState,_e=wp.components.FormToggle,Re=window,Ee=Re.ModuleBuilderModal,Ne=Re.ReactTooltip;function Se(e){var t,n,a=e.data,r=e.setData,o=igd,i=o.activeAccount,l=o.isPro,c=a.autoPrivateFolders,s=a.privateFolderRoles,d=void 0===s?["editor","author","contributor"]:s,m=a.deleteAutoPrivateFolders,p=a.nameTemplate,f=void 0===p?"%user_login% (%user_email%)":p,v=a.parentFolder,w=void 0===v?g(i.root_id):v,h=a.templateFolder,b=a.mergeFolders,y=a.privateFoldersInAdminDashboard,_=fe(ye(null),2),R=_[0],E=_[1],N=R&&[{label:wp.i18n.__("All","integrate-google-drive"),value:"all"}].concat(pe(Object.keys(R.roles).map((function(e){return{label:"".concat(e," (role)"),value:e}}))),pe(R.users.map((function(e){var t=e.username,n=e.email,a=e.id;return{label:"".concat(t," (").concat(n,")"),value:parseInt(a)}}))));return be((function(){wp.ajax.post("igd_get_users_data").then((function(e){return E(e)}))}),[]),React.createElement("div",{className:"igd-settings-body"},React.createElement("span",{className:"igd-settings-body-title"},wp.i18n.__("Private Folders","integrate-google-drive"),React.createElement("a",{href:"https://softlabbd.com/docs/how-to-use-and-enable-private-folders-automatically-link-manually/",target:"_blank",className:"igd-btn btn-outline-info"},React.createElement("i",{className:"dashicons dashicons-editor-help"}),wp.i18n.__("Documentation","integrate-google-drive"))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Create Folder on Registration","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(_e,{"data-tip":"PRO Feature",checked:c,onChange:function(){igd.isPro?r(ue(ue({},a),{},{autoPrivateFolders:!c})):u(wp.i18n.__("Upgrade to PRO to enable auto private folders creation on user registration.","integrate-google-drive"))}}),!igd.isPro&&React.createElement(Ne,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("span",{className:"description"},wp.i18n.__("Enable/ disable automatic private folders.","integrate-google-drive"),React.createElement("br",null),wp.i18n.__("If ON, a new private folder will be created for the new registered users.","integrate-google-drive")))),c&&React.createElement(React.Fragment,null,React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Filter User Roles","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(ReactSelect,{isMulti:!0,placeholder:"Select user roles",options:N,value:R?N.filter((function(e){return d.includes(e.value)})):[],onChange:function(e){return r(ue(ue({},a),{},{privateFolderRoles:pe(e.map((function(e){return e.value})))}))},className:"igd-select",classNamePrefix:"igd-select",isClearable:!0}),React.createElement("p",{className:"description"},wp.i18n.__("Select the user roles for which the private folders will be created.","integrate-google-drive")))),React.createElement("div",{className:"settings-field field-naming-template"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Naming template","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{"data-tip":"PRO Feature",type:"text",value:f,onChange:function(e){igd.isPro?r(ue(ue({},a),{},{nameTemplate:e.target.value})):u(wp.i18n.__("Upgrade to PRO to enable auto private folders creation on user registration.","integrate-google-drive"))}}),!igd.isPro&&React.createElement(Ne,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Set the folder name template for the automatically created private folders. and use the below tags to customize the folder name.","integrate-google-drive")),React.createElement("div",{className:"template-tags"},React.createElement("div",{className:"template-tags-title",onClick:function(e){return jQuery(e.target).closest(".template-tags-title").toggleClass("active")}},React.createElement("span",null,wp.i18n.__("Available template tags","integrate-google-drive")),React.createElement("span",null,wp.i18n.__(" (click to insert)","integrate-google-drive"))),React.createElement("div",{className:"template-tags-list"},["%user_login%","%user_email%","%first_name%","%last_name%","%display_name%","%user_id%","%user_role%","%user_meta_{key}%","%date%","%time%","%unique_id%"].map((function(e,t){return React.createElement("span",{className:"tag",key:t,onClick:function(){igd.isPro?r(ue(ue({},a),{},{nameTemplate:f+" "+e})):u(wp.i18n.__("Upgrade to PRO to enable auto private folders creation.","integrate-google-drive"))}},e)})))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Parent Folder","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"template-folder-wrap"},!!w&&React.createElement("div",{className:"template-folder"},React.createElement("div",{className:"template-folder-account"},null===(t=igd.accounts[w.accountId])||void 0===t?void 0:t.email),React.createElement("div",{className:"template-folder-item"},w.iconLink?React.createElement("img",{src:w.iconLink}):React.createElement("i",{className:"dashicons dashicons-category"}),React.createElement("span",{className:"template-folder-name"},w.name?w.name:g(w))),React.createElement("div",{className:"dashicons dashicons-no-alt",onClick:function(){return r(ue(ue({},a),{},{parentFolder:null}))}},React.createElement("span",{className:"screen-reader-text"},wp.i18n.__("Remove","integrate-google-drive")))),React.createElement("button",{"data-tip":"PRO Feature",className:"igd-btn btn-info",onClick:function(){igd.isPro?Swal.fire({html:'<div id="igd-select-files" class="igd-module-builder-modal-wrap"></div>',showConfirmButton:!1,customClass:{container:"igd-module-builder-modal-container"},didOpen:function(e){var t=document.getElementById("igd-select-files");ReactDOM.render(React.createElement(Ee,{initData:{folders:w?[w]:[]},onUpdate:function(e){var t=e.folders,n=void 0===t?[]:t;r((function(e){return ue(ue({},e),{},{parentFolder:n[0]})})),Swal.close()},onClose:function(){return Swal.close()},isSelectFiles:!0,selectionType:"parent"}),t)},willClose:function(e){var t=document.getElementById("igd-select-files");ReactDOM.unmountComponentAtNode(t)}}):u(wp.i18n.__("Upgrade to PRO to enable auto private folders creation on user registration.","integrate-google-drive"))}},React.createElement("i",{className:"dashicons dashicons-open-folder"}),React.createElement("span",null,w?wp.i18n.__("Change Parent Folder","integrate-google-drive"):wp.i18n.__("Select Parent Folder","integrate-google-drive"))),!igd.isPro&&React.createElement(Ne,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"})),React.createElement("p",{className:"description"},wp.i18n.__("Select the parent folder for the newly created private folders. All the private folders will be created within the selected parent folder.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Template Folder","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"template-folder-wrap"},!!h&&React.createElement("div",{className:"template-folder"},React.createElement("div",{className:"template-folder-account"},null===(n=igd.accounts[h.accountId])||void 0===n?void 0:n.email),React.createElement("div",{className:"template-folder-item"},h.iconLink?React.createElement("img",{src:h.iconLink}):React.createElement("i",{className:"dashicons dashicons-category"}),React.createElement("span",{className:"template-folder-name"},h.name?h.name:g(h))),React.createElement("div",{className:"dashicons dashicons-no-alt",onClick:function(){return r(ue(ue({},a),{},{templateFolder:null}))}},React.createElement("span",{className:"screen-reader-text"},wp.i18n.__("Remove","integrate-google-drive")))),React.createElement("button",{"data-tip":"PRO Feature",className:"igd-btn btn-info",onClick:function(){igd.isPro?Swal.fire({html:'<div id="igd-select-files" class="igd-module-builder-modal-wrap single"></div>',showConfirmButton:!1,customClass:{container:"igd-module-builder-modal-container"},didOpen:function(e){var t=document.getElementById("igd-select-files");ReactDOM.render(React.createElement(Ee,{initData:{folders:h?[h]:[]},onUpdate:function(e){var t=e.folders,n=void 0===t?[]:t;r((function(e){return ue(ue({},e),{},{templateFolder:n[0]})})),Swal.close()},onClose:function(){return Swal.close()},isSelectFiles:!0,selectionType:"template"}),t)},willClose:function(e){var t=document.getElementById("igd-select-files");ReactDOM.unmountComponentAtNode(t)}}):u(wp.i18n.__("Upgrade to PRO to enable auto private folders creation on user registration.","integrate-google-drive"))}},React.createElement("i",{className:"dashicons dashicons-open-folder"}),React.createElement("span",null,h?wp.i18n.__("Change Template Folder","integrate-google-drive"):wp.i18n.__("Select Template Folder","integrate-google-drive"))),!igd.isPro&&React.createElement(Ne,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"})),!!w&&!!h&&w.accountId!==h.accountId&&React.createElement("div",{className:"template-folder-error"},React.createElement("i",{className:"dashicons dashicons-warning"}),React.createElement("span",null,wp.i18n.__("Template folder and parent folder must be from the same account.","integrate-google-drive"))),!!w&&!!h&&w.id===h.id&&React.createElement("div",{className:"template-folder-error"},React.createElement("i",{className:"dashicons dashicons-warning"}),React.createElement("span",null,wp.i18n.__("Template folder and parent folder can't be the same.","integrate-google-drive"))),React.createElement("p",{className:"description"},wp.i18n.__("Select the template folder for the newly created private folders. All the files and folders within the template folder will be copied to the newly created private folders for the users.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Delete private folders","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(_e,{"data-tip":"PRO Feature",checked:m,onChange:function(){igd.isPro?r(ue(ue({},a),{},{deleteAutoPrivateFolders:!m})):u(wp.i18n.__("Upgrade to PRO to enable auto private folders creation on user registration.","integrate-google-drive"))}}),!igd.isPro&&React.createElement(Ne,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("If ON, Delete the linked private folders on account delete.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Merge Folders","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(_e,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),checked:b,onChange:function(){l?r(ue(ue({},a),{},{mergeFolders:!b})):u(wp.i18n.__("Upgrade to PRO to enable auto private folders creation on user registration.","integrate-google-drive"))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enable the merging of folders when a folder with a same name already exists, rather than creating a new folder.","integrate-google-drive"))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Private Folders in Admin Dashboard","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement(_e,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),checked:y,onChange:function(){l?r(ue(ue({},a),{},{privateFoldersInAdminDashboard:!y})):u(wp.i18n.__("Upgrade to PRO to allow private folders in admin dashboard.","integrate-google-drive"))}}),React.createElement("p",{className:"description"},wp.i18n.__("Allow users to access the linked private folders in admin dashboard file browser.","integrate-google-drive")))))}function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){var a;return a=function(e,t){if("object"!=Ae(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Ae(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Ae(a)?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ce=wp.components.ColorPalette,Fe=React,je=Fe.useEffect,De=Fe.useRef,Ue=window.ReactTooltip;function xe(e){var t=e.data,n=e.setData,a={atom:wp.i18n.__("Atom","integrate-google-drive"),"bar-chart":wp.i18n.__("Bar Chart","integrate-google-drive"),spinner:wp.i18n.__("Spinner","integrate-google-drive"),bars:wp.i18n.__("Bars","integrate-google-drive"),bricks:wp.i18n.__("Bricks","integrate-google-drive"),blocks:wp.i18n.__("Blocks","integrate-google-drive"),"color-bar":wp.i18n.__("Color Bar","integrate-google-drive"),clock:wp.i18n.__("Clock","integrate-google-drive"),"dash-ring":wp.i18n.__("Dash Ring","integrate-google-drive"),ripple:wp.i18n.__("Ripple","integrate-google-drive"),progress:wp.i18n.__("Progress","integrate-google-drive"),flipball:wp.i18n.__("Flip Ball","integrate-google-drive"),hourglass:wp.i18n.__("Hourglass","integrate-google-drive"),infinity:wp.i18n.__("Infinity","integrate-google-drive"),"dual-ring":wp.i18n.__("Dual Ring","integrate-google-drive"),"fidget-spinner":wp.i18n.__("Fidget Spinner","integrate-google-drive"),gear:wp.i18n.__("Gear","integrate-google-drive"),gears:wp.i18n.__("Gears","integrate-google-drive")},r=t.preloader,o=void 0===r?"default":r,i=t.customPreloader,l=t.primaryColor,c=void 0===l?"#3C82F6":l,s=t.customCss;je((function(){var e=document.querySelector(".igd-custom-css");e&&wp.codeEditor.initialize(e,Pe(Pe({},wp.codeEditor.defaultSettings),{},{mode:"css",wordWrap:!0,tabSize:2,autoComplete:{enable:!0,showDescriptions:!0,caseSensitive:!0,autoTrigger:!0,delay:0,maxItems:10,sortBy:"score",maxLength:0,maxResults:10,highlightMatches:!0,maxHighlightLength:0,style:"popup"},showGutter:!0,showPrintMargin:!0,highlightActiveLine:!0,showLineNumbers:!0,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableCodeFolding:!0,enableCodeFormatting:!0})).codemirror.on("change",(function(e){var a=e.getValue();n(Pe(Pe({},t),{},{customCss:a}))}))}),[]);var d=De();return React.createElement("div",{className:"igd-settings-body"},React.createElement("h3",{className:"igd-settings-body-title"},wp.i18n.__("Appearance Settings","integrate-google-drive")),React.createElement("div",{className:"settings-field field-preloader"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Preloader","integrate-google-drive")),React.createElement("p",{className:"description"},wp.i18n.__("Choose the preloader style for the file browser. Preloader will be displayed in the file browser while the files are loading.","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"preloaders"},React.createElement("div",{className:"preloader ".concat("default"===o?"active":""),onClick:function(){return n(Pe(Pe({},t),{},{preloader:"default"}))}},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/preloader/default.svg"),alt:wp.i18n.__("Default","integrate-google-drive")}),React.createElement("span",{className:"preloader-name"},wp.i18n.__("Default","integrate-google-drive"))),Object.keys(a).map((function(e){var r=a[e],i=igd.isPro&&o===e;return React.createElement("div",{className:"preloader ".concat(i?"active":""," ").concat(igd.isPro?"":"disabled"),key:e,onClick:function(){igd.isPro?n(Pe(Pe({},t),{},{preloader:e})):u(wp.i18n.__("Upgrade to PRO to use this preloader.","integrate-google-drive"))}},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/preloader/").concat(e,".svg"),alt:r}),igd.isPro?React.createElement("div",{className:"preloader-name"},React.createElement("span",null,r)):React.createElement("div",{className:"preloader-name"},React.createElement("i",{className:"dashicons dashicons-lock"}),React.createElement("span",null,wp.i18n.__("PRO","integrate-google-drive"))))}))),React.createElement("div",{className:"preloader-upload"},React.createElement("h4",null,wp.i18n.__("Custom Preloader Image","integrate-google-drive")),React.createElement("div",{className:"preloader-upload-actions"},React.createElement("button",{type:"button",className:"igd-btn btn-info upload-btn",onClick:function(){igd.isPro?function(){if(d.current)return d.current.off("select"),void d.current.on("select",(function(){var e=d.current.state().get("selection").first().toJSON();n(Pe(Pe({},t),{},{customPreloader:e.url}))})).open();d.current=wp.media({title:wp.i18n.__("Select Preloader","integrate-google-drive"),button:{text:wp.i18n.__("Select","integrate-google-drive")},multiple:!1,library:{type:"image"}}),d.current.on("select",(function(){var e=d.current.state().get("selection").first().toJSON();n(Pe(Pe({},t),{},{customPreloader:e.url}))})).open()}():u(wp.i18n.__("Upgrade to PRO to use custom preloader.","integrate-google-drive"))}},React.createElement("i",{className:"dashicons dashicons-upload"}),React.createElement("span",null,wp.i18n.__("Upload Image","integrate-google-drive"))),!!i&&React.createElement("button",{type:"button",className:"igd-btn btn-danger",onClick:function(){return n(Pe(Pe({},t),{},{customPreloader:""}))}},React.createElement("i",{className:"dashicons dashicons-trash"}),React.createElement("span",null,wp.i18n.__("Remove","integrate-google-drive")))),!!i&&React.createElement("div",{className:"preloader-preview"},React.createElement("img",{src:i}))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Primary Color","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"igd-color-palette-wrap","data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),onClick:function(){igd.isPro||u(wp.i18n.__("Upgrade to PRO to change the file browser primary color.","integrate-google-drive"))}},React.createElement(Ce,{colors:[{name:"Default",color:"#3C82F6"},{name:"Green",color:"#2FB44B"},{color:"#2463EB",name:"Azure"},{color:"#0073aa",name:"Sapphire Blue"},{color:"#2265C0",name:"Lapis Blue"},{color:"#3F51B5",name:"Indigo"},{color:"#6E61C2",name:"Amethyst"}],value:c,onChange:function(e){n(Pe(Pe({},t),{},{primaryColor:e}))},className:"igd-color-palette ".concat(igd.isPro?"":"disabled"),enableAlpha:!0,asButtons:!0}),!igd.isPro&&React.createElement(Ue,{className:"igd-tooltip",effect:"solid",place:"right",backgroundColor:"#ff9966"})),React.createElement("span",{className:"description"},wp.i18n.__("Choose the primary color for the file browser. The color will affects both on admin and frontend file browser module.","integrate-google-drive")))),React.createElement("div",{className:"settings-field field-custom-css"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Custom CSS","integrate-google-drive")),React.createElement("p",{className:"description"},wp.i18n.__("To customize the plugin's styles, insert your custom CSS here.","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("textarea",{value:s,onChange:function(e){return n(Pe(Pe({},t),{},{customCss:e}))},rows:20,placeholder:wp.i18n.__("Enter your custom CSS here...","integrate-google-drive"),id:"igd-custom-css",className:"igd-textarea igd-custom-css"}))))}function Be(e){return Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Be(e)}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Te(e,t,n){var a;return a=function(e,t){if("object"!=Be(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Be(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Be(a)?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ke(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Ge=wp.components.SelectControl,Qe=React.useState;function We(e){var t=e.data,n=e.setData,a=e.saveSettings,r=t.exportData,o=void 0===r?"all":r,i=Me(Qe(!1),2),l=i[0],c=i[1];return React.createElement("div",{className:"igd-settings-body"},React.createElement("h3",{className:"igd-settings-body-title"},wp.i18n.__("Tools","integrate-google-drive")),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Clear Cached Files","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("button",{className:"igd-btn btn-warning",type:"button",onClick:function(){Swal.fire({title:wp.i18n.__("Are you sure?","integrate-google-drive"),text:wp.i18n.__("Clear all the cached files!","integrate-google-drive"),icon:"warning",showCancelButton:!0,confirmButtonText:wp.i18n.__("Clear cache","integrate-google-drive"),cancelButtonText:wp.i18n.__("Cancel","integrate-google-drive"),reverseButtons:!0,showLoaderOnConfirm:!0,customClass:{container:"igd-swal"},preConfirm:function(){return new Promise((function(e,t){wp.ajax.post("igd_clear_cache",{nonce:igd.nonce}).done((function(){return e()}))}))}}).then((function(e){e.isConfirmed&&Swal.fire({title:wp.i18n.__("Cache Cleared!","integrate-google-drive"),text:wp.i18n.__("Cached files are deleted and synchronized with the cloud files.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2500,timerProgressBar:!0,toast:!0})}))}},React.createElement("i",{className:"dashicons dashicons-update"}),React.createElement("span",null,wp.i18n.__("Clear cache","integrate-google-drive"))),React.createElement("p",{className:"description"},wp.i18n.__("Clear cached files and synchronize the cloud files.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Export Data","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Ge,{value:o,options:[{label:wp.i18n.__("Settings","integrate-google-drive"),value:"settings"},{label:wp.i18n.__("Shortcode Modules","integrate-google-drive"),value:"shortcodes"},{label:wp.i18n.__("User Private Files","integrate-google-drive"),value:"user_files"},{label:wp.i18n.__("Statistics Logs","integrate-google-drive"),value:"events"},{label:wp.i18n.__("Export All (Settings, Shortcode Modules, User Private Files, Statistics Logs)","integrate-google-drive"),value:"all"}],onChange:function(e){n(Le(Le({},t),{},{exportData:e}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Select the data you want to export.","integrate-google-drive")),React.createElement("br",null),React.createElement("button",{type:"button",className:"igd-btn btn-info",onClick:function(){c("export"),wp.ajax.post("igd_get_export_data",{type:o}).done((function(e){var t=JSON.stringify(e),n=new Blob([t],{type:"application/json"}),a=URL.createObjectURL(n),r=document.createElement("a");r.href=a,r.download="integrate-google-drive-export-".concat(o.replace("_","-"),"-").concat((new Date).toISOString().slice(0,10),".json"),r.click(),URL.revokeObjectURL(a)})).fail((function(e){return console.log(e)})).always((function(){return c(!1)}))}},"export"===l?React.createElement("div",{className:"igd-spinner"}):React.createElement("i",{className:"dashicons dashicons-download"}),React.createElement("span",null,wp.i18n.__("Export","integrate-google-drive"))),React.createElement("p",{className:"description"},wp.i18n.__("Export the selected data to a JSON file.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},"Import Data"),React.createElement("div",{className:"settings-field-content"},React.createElement("button",{type:"button",className:"igd-btn btn-info",onClick:function(){var e=document.createElement("input");e.type="file",e.accept="application/json",e.onchange=function(){var t=e.files[0],r=new FileReader;r.readAsText(t),r.onload=function(){c("import");var e=JSON.parse(r.result);wp.ajax.post("igd_import_data",{data:e}).done((function(){Swal.fire({title:wp.i18n.__("Imported!","integrate-google-drive"),text:wp.i18n.__("Data imported successfully.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2500,timerProgressBar:!0,toast:!0}),e.settings&&(n(e.settings),a())})).fail((function(e){return console.log(e)})).always((function(){return c(!1)}))}},e.click()}},"import"===l?React.createElement("div",{className:"igd-spinner"}):React.createElement("i",{className:"dashicons dashicons-upload"}),React.createElement("span",null,"Import")),React.createElement("p",{className:"description"},wp.i18n.__("Select the exported JSON file you would like to import. Please note that the import will replace the current data","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("span",{className:"settings-field-label"},wp.i18n.__("Reset Settings","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("button",{type:"button",className:"igd-btn btn-danger",onClick:function(){Swal.fire({title:wp.i18n.__("Are you sure?","integrate-google-drive"),text:wp.i18n.__("We recommend you to export your current settings before resetting them.","integrate-google-drive"),icon:"warning",showCancelButton:!0,confirmButtonText:wp.i18n.__("Reset","integrate-google-drive"),reverseButtons:!0,showLoaderOnConfirm:!0,customClass:{container:"igd-swal"}}).then((function(e){e.value&&(n({}),a())}))}},React.createElement("i",{className:"dashicons dashicons-update"}),React.createElement("span",null,wp.i18n.__("Reset","integrate-google-drive"))),React.createElement("p",{className:"description"},wp.i18n.__("Reset all settings to default.","integrate-google-drive")))))}function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e,t,n){var a;return a=function(e,t){if("object"!=ze(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=ze(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ze(a)?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function He(e){return function(e){if(Array.isArray(e))return Ze(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw r}}return l}}(e,t)||Ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){if(e){if("string"==typeof e)return Ze(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ze(e,t):void 0}}function Ze(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var $e=React,et=$e.useState,tt=$e.useEffect;function nt(e){var t=e.data,n=e.setData,a=t.accessFileBrowserUsers,r=void 0===a?["administrator"]:a,o=t.userFolders,i=void 0===o?{}:o,l=t.accessSettingsUsers,c=void 0===l?["administrator"]:l,s=t.accessShortcodeBuilderUsers,d=void 0===s?["administrator"]:s,g=t.accessStatisticsUsers,m=void 0===g?["administrator"]:g,p=t.accessPrivateFilesUsers,f=void 0===p?["administrator"]:p,v=t.accessGettingStartedUsers,w=void 0===v?["administrator"]:v,h=Xe(et({roles:{administrator:1},users:[]}),2),b=h[0],y=h[1];tt((function(){wp.ajax.post("igd_get_users_data").done((function(e){return y(e)})).fail((function(e){return console.log(e)}))}),[]);var _=b&&[].concat(He(Object.keys(b.roles).map((function(e){return{label:"".concat(e," (role)"),value:e}}))),He(b.users.map((function(e){var t=e.username,n=e.email,a=e.id;return{label:"".concat(t," (").concat(n,")"),value:parseInt(a)}})))),R=b?_.filter((function(e){return r.includes(e.value)})):[];return React.createElement("div",{className:"igd-settings-body"},React.createElement("h3",{className:"igd-settings-body-title"},wp.i18n.__("User Access Settings","integrate-google-drive"),React.createElement("a",{href:"https://softlabbd.com/docs/allow-other-users-to-use-integrate-google-drive-in-admin-dashboard/",target:"_blank",className:"igd-btn btn-outline-info"},React.createElement("i",{className:"dashicons dashicons-editor-help"}),wp.i18n.__("Documentation","integrate-google-drive"))),React.createElement("div",{className:"settings-field field-access-browser"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("File Browser Page","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(ReactSelect,{isMulti:!0,placeholder:"Select users & roles",options:_,value:R,onChange:function(e){return n(Ve(Ve({},t),{},{accessFileBrowserUsers:He(e.map((function(e){return e.value})))}))},className:"igd-select",classNamePrefix:"igd-select",isClearable:!1,styles:{multiValue:function(e,t){return"administrator"===t.data.value?Ve(Ve({},e),{},{backgroundColor:"gray"}):e},multiValueLabel:function(e,t){return"administrator"===t.data.value?Ve(Ve({},e),{},{fontWeight:"bold",color:"white",paddingRight:6}):e},multiValueRemove:function(e,t){return"administrator"===t.data.value?Ve(Ve({},e),{},{display:"none"}):e}}}),React.createElement("p",{className:"description"},wp.i18n.__("Select which roles & users can access the admin dashboard file browser.","integrate-google-drive")),R.length>1&&React.createElement("div",{className:"settings-field-sub"},R.map((function(e){var a=e.label,r=e.value;if("administrator"!==r){var o=i[r]||[];return React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Select folders for ","integrate-google-drive")," - ",a),React.createElement("div",{className:"template-folder-wrap"},o.length?o.map((function(e){var a=e.id,o=e.name,l=e.iconLink;return l=l||"https://drive-thirdparty.googleusercontent.com/64/type/application/vnd.google-apps.folder",React.createElement("div",{className:"template-folder"},React.createElement("div",{className:"template-folder-item"},React.createElement("img",{src:l}),React.createElement("span",{className:"template-folder-name"},o),React.createElement("div",{className:"dashicons dashicons-no-alt",onClick:function(){var e=i[r].filter((function(e){return e.id!==a}));n(Ve(Ve({},t),{},{userFolders:Ve(Ve({},i),{},Je({},r,e))}))}})))})):React.createElement("div",{className:"template-folder"},React.createElement("div",{className:"template-folder-item"},React.createElement("img",{src:"https://drive-thirdparty.googleusercontent.com/64/type/application/vnd.google-apps.folder"}),React.createElement("span",{className:"template-folder-name"},wp.i18n.__("All Folders","integrate-google-drive")))),React.createElement("button",{"data-tip":"PRO Feature",className:"igd-btn btn-success",onClick:function(){igd.isPro?Swal.fire({html:'<div id="igd-select-files" class="igd-module-builder-modal-wrap"></div>',showConfirmButton:!1,customClass:{container:"igd-module-builder-modal-container"},didOpen:function(e){var t=document.getElementById("igd-select-files");ReactDOM.render(React.createElement(ModuleBuilderModal,{initData:{folders:o},onUpdate:function(e){var t=e.folders,a=void 0===t?[]:t;n((function(e){return Ve(Ve({},e),{},{userFolders:Ve(Ve({},i),{},Je({},r,a.map((function(e){return{id:e.id,name:e.name,iconLink:e.iconLink,accountId:e.accountId,type:e.type,shortcutDetails:e.shortcutDetails}}))))})})),Swal.close()},onClose:function(){return Swal.close()},isSelectFiles:!0,selectionType:"folders"}),t)},willClose:function(e){var t=document.getElementById("igd-select-files");ReactDOM.unmountComponentAtNode(t)}}):u(wp.i18n.__("Upgrade to select specific folders for users.","integrate-google-drive"))}},React.createElement("i",{className:"dashicons dashicons-open-folder"}),React.createElement("span",null,o.length?wp.i18n.__("Update Folders","integrate-google-drive"):wp.i18n.__("Select Folders","integrate-google-drive"))),!igd.isPro&&React.createElement(ReactTooltip,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"})),React.createElement("p",{className:"description"},wp.i18n.__("Select specific folders that will be accessible to ","integrate-google-drive")," ",a,"."))}}))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Shortcode Builder Page","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(ReactSelect,{isMulti:!0,placeholder:"Select users & roles",options:_,value:b?_.filter((function(e){return d.includes(e.value)})):[],onChange:function(e){return n(Ve(Ve({},t),{},{accessShortcodeBuilderUsers:He(e.map((function(e){return e.value})))}))},className:"igd-select",classNamePrefix:"igd-select",isClearable:!1,styles:{multiValue:function(e,t){return"administrator"===t.data.value?Ve(Ve({},e),{},{backgroundColor:"gray"}):e},multiValueLabel:function(e,t){return"administrator"===t.data.value?Ve(Ve({},e),{},{fontWeight:"bold",color:"white",paddingRight:6}):e},multiValueRemove:function(e,t){return"administrator"===t.data.value?Ve(Ve({},e),{},{display:"none"}):e}}}),React.createElement("p",{className:"description"},wp.i18n.__("Select which roles & users can create & edit shortcode modules.","integrate-google-drive")),React.createElement("p",{className:"description"},React.createElement("strong",null,wp.i18n.__("Note: ","integrate-google-drive"))," ",wp.i18n.__("Roles & Users can only access the folders that they have assigned in the ","integrate-google-drive"),React.createElement("strong",null,wp.i18n.__(" Access Backend File Browser ","integrate-google-drive"))," ",wp.i18n.__(" settings above.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("User Private Files Page","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(ReactSelect,{isMulti:!0,placeholder:"Select users & roles",options:_,value:b?_.filter((function(e){return f.includes(e.value)})):[],onChange:function(e){return n(Ve(Ve({},t),{},{accessPrivateFilesUsers:He(e.map((function(e){return e.value})))}))},className:"igd-select",classNamePrefix:"igd-select",isClearable:!1,styles:{multiValue:function(e,t){return"administrator"===t.data.value?Ve(Ve({},e),{},{backgroundColor:"gray"}):e},multiValueLabel:function(e,t){return"administrator"===t.data.value?Ve(Ve({},e),{},{fontWeight:"bold",color:"white",paddingRight:6}):e},multiValueRemove:function(e,t){return"administrator"===t.data.value?Ve(Ve({},e),{},{display:"none"}):e}}}),React.createElement("p",{className:"description"},wp.i18n.__("Select which roles & users can manually link private files & folders to users.","integrate-google-drive")),React.createElement("p",{className:"description"},React.createElement("strong",null,wp.i18n.__("Note: ","integrate-google-drive"))," ",wp.i18n.__("Roles & Users can only access the folders that they have assigned in the ","integrate-google-drive"),React.createElement("strong",null,wp.i18n.__(" Access Backend File Browser ","integrate-google-drive"))," ",wp.i18n.__(" settings above.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Settings Page","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(ReactSelect,{isMulti:!0,placeholder:"Select users & roles",options:_,value:b?_.filter((function(e){return c.includes(e.value)})):[],onChange:function(e){return n(Ve(Ve({},t),{},{accessSettingsUsers:He(e.map((function(e){return e.value})))}))},className:"igd-select",classNamePrefix:"igd-select",isClearable:!1,styles:{multiValue:function(e,t){return"administrator"===t.data.value?Ve(Ve({},e),{},{backgroundColor:"gray"}):e},multiValueLabel:function(e,t){return"administrator"===t.data.value?Ve(Ve({},e),{},{fontWeight:"bold",color:"white",paddingRight:6}):e},multiValueRemove:function(e,t){return"administrator"===t.data.value?Ve(Ve({},e),{},{display:"none"}):e}}}),React.createElement("p",{className:"description"},wp.i18n.__("Select which roles & users can change the plugin settings.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Statistics Page","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(ReactSelect,{isMulti:!0,placeholder:"Select users & roles",options:_,value:b?_.filter((function(e){return m.includes(e.value)})):[],onChange:function(e){return n(Ve(Ve({},t),{},{accessStatisticsUsers:He(e.map((function(e){return e.value})))}))},className:"igd-select",classNamePrefix:"igd-select",isClearable:!1,styles:{multiValue:function(e,t){return"administrator"===t.data.value?Ve(Ve({},e),{},{backgroundColor:"gray"}):e},multiValueLabel:function(e,t){return"administrator"===t.data.value?Ve(Ve({},e),{},{fontWeight:"bold",color:"white",paddingRight:6}):e},multiValueRemove:function(e,t){return"administrator"===t.data.value?Ve(Ve({},e),{},{display:"none"}):e}}}),React.createElement("p",{className:"description"},wp.i18n.__("Select the users & roles to allow access to the statistics page.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("span",{className:"settings-field-label"},wp.i18n.__("Getting Started Page","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(ReactSelect,{isMulti:!0,placeholder:"Select users & roles",options:_,value:b?_.filter((function(e){return w.includes(e.value)})):[],onChange:function(e){return n(Ve(Ve({},t),{},{accessGettingStartedUsers:He(e.map((function(e){return e.value})))}))},className:"igd-select",classNamePrefix:"igd-select",isClearable:!1,styles:{multiValue:function(e,t){return"administrator"===t.data.value?Ve(Ve({},e),{},{backgroundColor:"gray"}):e},multiValueLabel:function(e,t){return"administrator"===t.data.value?Ve(Ve({},e),{},{fontWeight:"bold",color:"white",paddingRight:6}):e},multiValueRemove:function(e,t){return"administrator"===t.data.value?Ve(Ve({},e),{},{display:"none"}):e}}}),React.createElement("p",{className:"description"},wp.i18n.__("Select the users & roles to allow viewing the getting started page.","integrate-google-drive")))))}function at(e){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},at(e)}function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw r}}return l}}(e,t)||it(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e){return function(e){if(Array.isArray(e))return lt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||it(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){if(e){if("string"==typeof e)return lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(e,t):void 0}}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function dt(e,t,n){var a;return a=function(e,t){if("object"!=at(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=at(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==at(a)?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var gt=wp.components,ut=gt.FormToggle,mt=gt.CheckboxControl,pt=window,ft=pt.ModuleBuilderModal,vt=pt.ReactTooltip,wt=React,ht=wt.useEffect,bt=wt.useState,yt=wt.useRef;function _t(e){var t=e.data,n=e.setData,a=!!igd.isPro,r=t.integrations,o=void 0===r?[]:r,i=t.wooCommerceDownload,l=void 0===i||i,c=t.wooCommerceUpload,s=void 0!==c&&c,d=t.wooCommerceUploadLocations,p=void 0===d?["checkout","order-received","my-account"]:d,f=t.wooCommerceUploadOrderStatuses,v=void 0===f?["wc-pending","wc-processing"]:f,w=t.wooCommerceUploadParentFolder,h=void 0===w?{id:igd.activeAccount.root_id,accountId:igd.activeAccount.id,name:wp.i18n.__("My Drive","integrate-google-drive")}:w,b=t.wooCommerceUploadFolderNameTemplate,y=void 0===b?"Order - %wc_order_id% - %wc_product_name% (%user_email%)":b,_=[{label:wp.i18n.__("Product Page","integrate-google-drive"),value:"product"},{label:wp.i18n.__("Cart Page","integrate-google-drive"),value:"cart"},{label:wp.i18n.__("Checkout Page","integrate-google-drive"),value:"checkout"},{label:wp.i18n.__("Order Received Page","integrate-google-drive"),value:"order-received"},{label:wp.i18n.__("My Account Page","integrate-google-drive"),value:"my-account"}],R={"wc-pending":wp.i18n._x("Pending payment","Order status","woocommerce"),"wc-processing":wp.i18n._x("Processing","Order status","woocommerce"),"wc-on-hold":wp.i18n._x("On hold","Order status","woocommerce"),"wc-completed":wp.i18n._x("Completed","Order status","woocommerce"),"wc-cancelled":wp.i18n._x("Cancelled","Order status","woocommerce"),"wc-refunded":wp.i18n._x("Refunded","Order status","woocommerce"),"wc-failed":wp.i18n._x("Failed","Order status","woocommerce")},E=m();ht((function(){E&&(l||s)&&n((function(e){return st(st({},e),{},{integrations:[].concat(ot(o),["woocommerce"])})}))}),[l,s]);var N=rt(bt(null),2),S=N[0],A=N[1],O=yt();return React.createElement("div",{className:"igd-settings-body"},React.createElement("h3",{className:"igd-settings-body-title"},wp.i18n.__("WooCommerce Settings","integrate-google-drive"),React.createElement("a",{href:"https://softlabbd.com/docs/how-to-use-integrate-google-drive-with-woocommerce/",target:"_blank",className:"igd-btn btn-outline-info"},React.createElement("i",{className:"dashicons dashicons-editor-help"}),wp.i18n.__("Documentation","integrate-google-drive"))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Enable Downloads","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(ut,{"data-tip":wp.i18n.__("Pro Feature","integrate-google-drive"),checked:a&&l,onChange:function(){a?n(st(st({},t),{},{wooCommerceDownload:!l})):u(wp.i18n.__("Upgrade to the Pro version to enable WooCommerce downloads.","integrate-google-drive"))}}),!a&&React.createElement(vt,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Enable to add Google Drive files to WooCommerce downloadable products.","integrate-google-drive")))),React.createElement("div",{className:"settings-field field-woocommerce-upload"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Enable Uploads","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(ut,{"data-tip":wp.i18n.__("Pro Feature","integrate-google-drive"),checked:a&&s,onChange:function(){a?n(st(st({},t),{},{wooCommerceUpload:!s})):u(wp.i18n.__("Upgrade to the Pro version to enable WooCommerce uploads.","integrate-google-drive"))}}),!a&&React.createElement(vt,{effect:"solid",place:"right",backgroundColor:"#FF9F10",className:"igd-tooltip"}),React.createElement("p",{className:"description"},wp.i18n.__("Enable/ disable customer file uploads for WooCommerce products.","integrate-google-drive")),s&&React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Upload Box Locations","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"upload-box-locations"},_.map((function(e){return React.createElement(mt,{key:e.value,label:e.label,checked:p.includes(e.value),onChange:function(){p.includes(e.value)?n(st(st({},t),{},{wooCommerceUploadLocations:p.filter((function(t){return t!==e.value}))})):n(st(st({},t),{},{wooCommerceUploadLocations:[].concat(ot(p),[e.value])}))}})}))),React.createElement("p",{className:"description"},wp.i18n.__("Select the locations where you want to show the upload box in woocommerce products.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},(p.includes("order-received")||p.includes("my-account"))&&React.createElement(React.Fragment,null,React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Show upload box when order status is","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"upload-box-order-status"},Object.keys(R).map((function(e){return React.createElement(mt,{key:e,label:R[e],checked:v.includes(e),onChange:function(){v.includes(e)?n(st(st({},t),{},{wooCommerceUploadOrderStatuses:v.filter((function(t){return t!==e}))})):n(st(st({},t),{},{wooCommerceUploadOrderStatuses:[].concat(ot(v),[e])}))}})}))),React.createElement("p",{className:"description"},wp.i18n.__("Select the order statuses when you want to show the upload box","integrate-google-drive")),React.createElement("div",{className:"igd-notice igd-notice-info"},React.createElement("p",{className:"igd-notice-content"},wp.i18n.__("This option will only work on the Order Received and My Account page.","integrate-google-drive")))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Folder Naming template","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("input",{type:"text",className:"folder-naming-template",onSelect:function(e){return A(e.target.selectionStart)},ref:O,value:y,onChange:function(e){n(st(st({},t),{},{wooCommerceUploadFolderNameTemplate:e.target.value}))}}),React.createElement("p",{className:"description"},wp.i18n.__("Set the upload folder naming template when a customer uploads a file a new folder will be created with this name.","integrate-google-drive")),React.createElement("div",{className:"template-tags"},React.createElement("div",{className:"template-tags-title",onClick:function(e){return jQuery(e.target).closest(".template-tags-title").toggleClass("active")}},React.createElement("span",null,wp.i18n.__("Available template tags","integrate-google-drive")),React.createElement("span",null,wp.i18n.__(" (click to insert)","integrate-google-drive"))),React.createElement("div",{className:"template-tags-list"},["%wc_order_id%","%wc_product_name%","%wc_order_date%","%wc_order_meta_{key}%","","%wc_product_id%","%wc_product_sku%","%wc_product_slug%","%wc_product_price%","%wc_product_sale_price%","%wc_product_regular_price%","%wc_product_tags%","%wc_product_type%","%wc_product_status%","%wc_product_meta_{key}%","","%user_login%","%user_email%","%first_name%","%last_name%","%display_name%","%user_id%","%user_role%","%user_meta_{key}%","%date%","%time%","%unique_id%"].map((function(e,a){return""===e?React.createElement("span",{className:"tag-break"}):React.createElement("span",{className:"tag",key:a,onClick:function(){var a;a=(a=null!==S?y.slice(0,S)+e+" "+y.slice(S):y+" "+e).trim(),n(st(st({},t),{},{wooCommerceUploadFolderNameTemplate:a}));var r=S+e.length+1;O.current.setSelectionRange(r,r)}},e)})))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Upload Parent Folder","integrate-google-drive")," "),React.createElement("div",{className:"settings-field-content"},React.createElement("div",{className:"template-folder-wrap"},!!h&&React.createElement("div",{className:"template-folder"},React.createElement("div",{className:"template-folder-account"},igd.accounts[h.accountId]?igd.accounts[h.accountId].email:""),React.createElement("div",{className:"template-folder-item"},h.iconLink?React.createElement("img",{src:h.iconLink}):React.createElement("i",{className:"dashicons dashicons-category"}),React.createElement("span",{className:"template-folder-name"},h.name?h.name:g(h))),React.createElement("div",{className:"dashicons dashicons-no-alt",onClick:function(){return n(st(st({},t),{},{wooCommerceUploadParentFolder:null}))}},React.createElement("span",{className:"screen-reader-text"},wp.i18n.__("Remove","integrate-google-drive")))),React.createElement("button",{className:"igd-btn btn-info",onClick:function(){Swal.fire({html:'<div id="igd-select-files" class="igd-module-builder-modal-wrap"></div>',showConfirmButton:!1,customClass:{container:"igd-module-builder-modal-container"},didOpen:function(e){var t=document.getElementById("igd-select-files");ReactDOM.render(React.createElement(ft,{initData:{folders:h?[h]:[]},onUpdate:function(e){var t=e.folders,a=void 0===t?[]:t;n((function(e){return st(st({},e),{},{wooCommerceUploadParentFolder:a[0]})})),Swal.close()},onClose:function(){return Swal.close()},isSelectFiles:!0,selectionType:"parent"}),t)},willClose:function(e){var t=document.getElementById("igd-select-files");ReactDOM.unmountComponentAtNode(t)}})}},React.createElement("i",{className:"dashicons dashicons-open-folder"}),React.createElement("span",null,h?wp.i18n.__("Change Parent Folder","integrate-google-drive"):wp.i18n.__("Select Parent Folder","integrate-google-drive")))),React.createElement("p",{className:"description"},wp.i18n.__("Select the parent folder where the new folders will be created with the uploaded files for each product.","integrate-google-drive"))))))))}function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function Et(e){return function(e){if(Array.isArray(e))return Nt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){Ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ot(e,t,n){var a;return a=function(e,t){if("object"!=Rt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Rt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==Rt(a)?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pt=wp.components.FormToggle,kt=window.ReactTooltip,Ct=React.useEffect;function Ft(e){var t=e.data,n=e.setData,a=!!igd.isPro,r=t.integrations,o=void 0===r?[]:r,i=t.dokanDownload,l=void 0===i||i,c=t.dokanUpload,s=void 0!==c&&c,d=m();return Ct((function(){d&&(l||s)&&n((function(e){return At(At({},e),{},{integrations:[].concat(Et(o),["woocommerce","dokan"])})}))}),[l,s]),React.createElement("div",{className:"igd-settings-body"},React.createElement("h3",{className:"igd-settings-body-title"},wp.i18n.__("Dokan Multi-vendor Settings","integrate-google-drive"),React.createElement("a",{href:"https://softlabbd.com/docs/how-to-allow-vendors-to-serve-sell-their-digital-download-files-directly-from-google-drive-in-dokan/",target:"_blank",className:"igd-btn btn-outline-info"},React.createElement("i",{className:"dashicons dashicons-editor-help"}),wp.i18n.__("Documentation","integrate-google-drive"))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Enable Downloads","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Pt,{"data-tip":wp.i18n.__("Pro Feature","integrate-google-drive"),checked:a&&l,onChange:function(){a?n(At(At({},t),{},{dokanDownload:!l})):u(wp.i18n.__("Upgrade to the Pro version to enable Dokan downloads.","integrate-google-drive"))}}),!a&&React.createElement(kt,{className:"igd-tooltip",effect:"solid",place:"right",backgroundColor:"#FF9F10"}),React.createElement("p",{className:"description"},wp.i18n.__("Enable to allow vendors to use their Google Drive files as downloadable products.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Enable Uploads","integrate-google-drive")),React.createElement("div",{className:"settings-field-content"},React.createElement(Pt,{"data-tip":wp.i18n.__("Pro Feature","integrate-google-drive"),checked:a&&s,onChange:function(){a?n(At(At({},t),{},{dokanUpload:!s})):u(wp.i18n.__("Upgrade to the Pro version to enable Dokan uploads.","integrate-google-drive"))}}),!a&&React.createElement(kt,{className:"igd-tooltip",effect:"solid",place:"right",backgroundColor:"#FF9F10"}),React.createElement("p",{className:"description"},wp.i18n.__("Enable to allow vendors to let customers upload files to their Google Drive.","integrate-google-drive")))))}function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){xt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xt(e,t,n){var a;return a=function(e,t){if("object"!=jt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=jt(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==jt(a)?a:String(a))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bt(e){return function(e){if(Array.isArray(e))return Tt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Lt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw r}}return l}}(e,t)||Lt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(e,t){if(e){if("string"==typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tt(e,t):void 0}}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Mt=wp.components.FormToggle,Kt=window,Gt=Kt.ModuleBuilderModal,Qt=Kt.ReactTooltip,Wt=React,zt=Wt.useEffect,qt=Wt.useState;Wt.useRef;function Vt(e){var t=e.data,n=e.setData,a=!!igd.isPro,r=t.mediaExcludesFolders,o=void 0===r?[]:r,i=t.mediaExcludesAllFolders,l=void 0!==i&&i,c=t.mediaExcludesExceptFolders,s=void 0===c?[]:c,d=t.deleteMediaCloudFile,g=void 0!==d&&d,m=t.accessMediaLibraryUsers,p=void 0===m?["administrator"]:m,f=It(qt({roles:{administrator:1},users:[]}),2),v=f[0],w=f[1];zt((function(){wp.ajax.post("igd_get_users_data").done((function(e){return w(e)})).fail((function(e){return console.log(e)}))}),[]);var h=v&&[].concat(Bt(Object.keys(v.roles).map((function(e){return{label:"".concat(e," (role)"),value:e}}))),Bt(v.users.map((function(e){var t=e.username,n=e.email,a=e.id;return{label:"".concat(t," (").concat(n,")"),value:parseInt(a)}}))));return React.createElement("div",{className:"igd-settings-body"},React.createElement("h3",{className:"igd-settings-body-title"},wp.i18n.__("Media Library Settings","integrate-google-drive"),React.createElement("a",{href:"https://softlabbd.com/docs/how-to-enable-google-drive-integration-with-media-library/",target:"_blank",className:"igd-btn btn-outline-info"},React.createElement("i",{className:"dashicons dashicons-editor-help"}),wp.i18n.__("Documentation","integrate-google-drive"))),React.createElement("div",{className:"settings-field field-media-excludes"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Excludes/ Includes Folders","integrate-google-drive")),React.createElement("div",{className:"settings-field-content ".concat(a?"":"disabled")},React.createElement("div",{className:"excludes-folders-wrap ".concat(l?"disabled":""," ")},React.createElement("div",{className:"excludes-folders"},!!o&&o.map((function(e,t){var n=e.name,a=e.iconLink;return React.createElement("div",{className:"folder-item"},React.createElement("span",{className:"folder-index"},t+1,"."),React.createElement("img",{src:a}),React.createElement("span",{className:"folder-name"},n))}))),React.createElement("button",{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),className:"igd-btn btn-info ".concat(a?"":"disabled"," "),onClick:function(){a?Swal.fire({html:'<div id="igd-select-files" class="igd-module-builder-modal-wrap select-folders"></div>',showConfirmButton:!1,customClass:{container:"igd-module-builder-modal-container"},didOpen:function(e){var t=document.getElementById("igd-select-files");ReactDOM.render(React.createElement(Gt,{initData:{folders:o},onUpdate:function(e){var t=e.folders,a=void 0===t?[]:t;n((function(e){return Ut(Ut({},e),{},{mediaExcludesFolders:a.map((function(e){return{id:e.id,name:e.name,iconLink:e.iconLink,accountId:e.accountId}}))})})),Swal.close()},onClose:function(){return Swal.close()},isSelectFiles:!0,selectionType:"folders"}),t)},willClose:function(e){var t=document.getElementById("igd-select-files");ReactDOM.unmountComponentAtNode(t)}}):u(wp.i18n.__("Upgrade to PRO to enable Media Library integration.","integrate-google-drive"))},disabled:l},React.createElement("i",{className:"dashicons dashicons-open-folder"}),React.createElement("span",null,wp.i18n.__("Select Exclude Folders","integrate-google-drive"))),!a&&React.createElement(Qt,{effect:"solid",place:"right",backgroundColor:"#ff9966",className:"igd-tooltip"})),React.createElement("p",{className:"description"},wp.i18n.__("Select the folders you want to exclude from the media library.","integrate-google-drive")),React.createElement("div",{className:"settings-field-sub"},React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Excludes All Folders","integrate-google-drive")),React.createElement("div",{className:"settings-field-content ".concat(a?"":"disabled")},React.createElement(Mt,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),checked:l,onChange:function(){a?n((function(e){return Ut(Ut({},e),{},{mediaExcludesAllFolders:!l})})):u(wp.i18n.__("Upgrade to PRO to enable Media Library integration.","integrate-google-drive"))}})),React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Excludes Except Folders","integrate-google-drive")),React.createElement("div",{className:"settings-field-content ".concat(a?"":"disabled")},React.createElement("div",{className:"excludes-folders-wrap ".concat(l?"":"disabled"," ")},React.createElement("div",{className:"excludes-folders"},!!s&&s.map((function(e,t){var a=e.name,r=e.iconLink;return React.createElement("div",{className:"folder-item"},React.createElement("span",{className:"folder-index"},t+1,"."),React.createElement("img",{src:r}),React.createElement("span",{className:"folder-name"},a),React.createElement("i",{className:"dashicons dashicons-no-alt",onClick:function(){n((function(t){return Ut(Ut({},t),{},{mediaExcludesExceptFolders:s.filter((function(t){return t.id!==e.id}))})}))}}))}))),React.createElement("button",{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),className:"igd-btn btn-info ".concat(a?"":"disabled"," "),onClick:function(){a?Swal.fire({html:'<div id="igd-select-files" class="igd-module-builder-modal-wrap select-folders"></div>',showConfirmButton:!1,customClass:{container:"igd-module-builder-modal-container"},didOpen:function(e){var t=document.getElementById("igd-select-files");ReactDOM.render(React.createElement(Gt,{initData:{folders:s},onUpdate:function(e){var t=e.folders,a=void 0===t?[]:t;n((function(e){return Ut(Ut({},e),{},{mediaExcludesExceptFolders:a.map((function(e){return{id:e.id,name:e.name,iconLink:e.iconLink,accountId:e.accountId}}))})})),Swal.close()},onClose:function(){return Swal.close()},isSelectFiles:!0,selectionType:"folders"}),t)},willClose:function(e){var t=document.getElementById("igd-select-files");ReactDOM.unmountComponentAtNode(t)}}):u(wp.i18n.__("Upgrade to PRO to enable Media Library integration.","integrate-google-drive"))},disabled:!l},React.createElement("i",{className:"dashicons dashicons-open-folder"}),React.createElement("span",null,wp.i18n.__("Select Include Folders","integrate-google-drive")))),React.createElement("p",{className:"description"},wp.i18n.__("Select the folders you want to include in the media library.","integrate-google-drive"))))))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("User Access","integrate-google-drive")),React.createElement("div",{className:"settings-field-content ".concat(a?"":"disabled"," ")},React.createElement("div",{className:"settings-content-wrap","data-tip":wp.i18n.__("PRO Feature","integrate-google-drive")},React.createElement(ReactSelect,{isMulti:!0,placeholder:"Select users & roles",options:h,value:v?h.filter((function(e){return p.includes(e.value)})):[],onChange:function(e){a?n(Ut(Ut({},t),{},{accessMediaLibraryUsers:Bt(e.map((function(e){return e.value})))})):u(wp.i18n.__("Upgrade to PRO to enable Media Library integration.","integrate-google-drive"))},className:"igd-select",classNamePrefix:"igd-select",isClearable:!1,styles:{multiValue:function(e,t){return"administrator"===t.data.value?Ut(Ut({},e),{},{backgroundColor:"gray"}):e},multiValueLabel:function(e,t){return"administrator"===t.data.value?Ut(Ut({},e),{},{fontWeight:"bold",color:"white",paddingRight:6}):e},multiValueRemove:function(e,t){return"administrator"===t.data.value?Ut(Ut({},e),{},{display:"none"}):e}}})),React.createElement("p",{className:"description"},wp.i18n.__("Select the users and roles who can access the Google Drive folders in the media library.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Remove Google Drive Attachments","integrate-google-drive")),React.createElement("div",{className:"settings-field-content ".concat(a?"":"disabled")},React.createElement("button",{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),type:"button",className:"igd-btn btn-warning ".concat(a?"":"disabled"," "),onClick:function(){a?Swal.fire({title:wp.i18n.__("Are you sure?","integrate-google-drive"),text:wp.i18n.__("Clear all the Google Drive attachments!","integrate-google-drive"),icon:"warning",showCancelButton:!0,confirmButtonText:wp.i18n.__("Clear attachments","integrate-google-drive"),cancelButtonText:wp.i18n.__("Cancel","integrate-google-drive"),reverseButtons:!0,showLoaderOnConfirm:!0,customClass:{container:"igd-swal igd-swal-reverse"},preConfirm:function(){return new Promise((function(e,t){wp.ajax.post("igd_media_clear_attachments",{nonce:igd.nonce}).done((function(){return e()})).fail((function(e){return t(e)}))}))}}).then((function(e){e.isConfirmed&&Swal.fire({title:wp.i18n.__("Attachments Cleared!","integrate-google-drive"),text:wp.i18n.__("Google Drive attachments are deleted from the media library.","integrate-google-drive"),icon:"success",showConfirmButton:!1,timer:2500,timerProgressBar:!0,toast:!0})})):u(wp.i18n.__("Upgrade to PRO to enable Media Library integration.","integrate-google-drive"))}},React.createElement("i",{className:"dashicons dashicons-trash"}),React.createElement("span",null,wp.i18n.__("Clear attachments","integrate-google-drive"))),React.createElement("p",{className:"description"},wp.i18n.__("Remove all Google Drive attachments currently integrated into your media library.","integrate-google-drive")))),React.createElement("div",{className:"settings-field"},React.createElement("h4",{className:"settings-field-label"},wp.i18n.__("Delete Cloud Files on Attachment Delete","integrate-google-drive")),React.createElement("div",{className:"settings-field-content ".concat(a?"":"disabled")},React.createElement(Mt,{"data-tip":wp.i18n.__("PRO Feature","integrate-google-drive"),checked:g,onChange:function(){a?n(Ut(Ut({},t),{},{deleteMediaCloudFile:!g})):u(wp.i18n.__("Upgrade to PRO to enable Media Library integration.","integrate-google-drive"))}}),React.createElement("p",{className:"description"},wp.i18n.__("Enable to delete linked Google Drive files, when any integrated Google Drive attachment is deleted from the media library page.","integrate-google-drive")))))}function Jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,o,i,l=[],c=!0,s=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(a=o.call(n)).done)&&(l.push(a.value),l.length!==t);c=!0);}catch(e){s=!0,r=e}finally{try{if(!c&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw r}}return l}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ht(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var Xt=React,Yt=Xt.useState,Zt=Xt.useEffect,$t=Xt.useRef;function en(){var e=[{key:"accounts",title:wp.i18n.__("Accounts","integrate-google-drive")},{key:"advanced",title:wp.i18n.__("Advanced","integrate-google-drive")},{key:"appearance",title:wp.i18n.__("Appearance","integrate-google-drive")},{key:"privateFolders",title:wp.i18n.__("Private Folders","integrate-google-drive")},{key:"userAccess",title:wp.i18n.__("User Access","integrate-google-drive")},{key:"integrations",title:wp.i18n.__("Integrations","integrate-google-drive")},{key:"mediaLibrary",title:wp.i18n.__("Media Library","integrate-google-drive")},{key:"woocommerce",title:wp.i18n.__("WooCommerce","integrate-google-drive")},{key:"dokan",title:wp.i18n.__("Dokan","integrate-google-drive")},{key:"statistics",title:wp.i18n.__("Statistics","integrate-google-drive")},{key:"sync",title:wp.i18n.__("Synchronization","integrate-google-drive")},{key:"tools",title:wp.i18n.__("Tools","integrate-google-drive")}],t=Jt(Yt(!1),2),n=t[0],a=t[1],r=new URLSearchParams(window.location.search).get("tab"),o=Jt(Yt(r||localStorage.getItem("igd_settings_tab")||"accounts"),2),i=o[0],l=o[1],c=Jt(Yt(igd.settings),2),s=c[0],d=c[1],g=function(){var e;a(!0),wp.ajax.post("igd_save_settings",{settings:(e=JSON.stringify(s),btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))),nonce:igd.nonce}).done((function(){Swal.fire({title:!1,text:wp.i18n.__("Settings saved successfully.","integrate-google-drive"),icon:"success",toast:!0,timer:3e3,timerProgressBar:!0,showConfirmButton:!1,position:"top-end",customClass:{container:"igd-swal save-settings-toast"}})})).fail((function(e){console.log(e),Swal.fire({title:"Error",text:wp.i18n.__("An error occurred while saving the settings.","integrate-google-drive"),icon:"error"})})).always((function(){a(!1)}))},u=m();Zt((function(){u&&(localStorage.setItem("igd_settings_tab",i),igd.showReviewPopup&&setTimeout((function(){!function(){f.apply(this,arguments)}()}),5e3))}),[i]);var p=$t(s);return Zt((function(){if(u){var e=100,t=p.current;for(var n in s)if(s[n]!==t[n]){if(["ownApp","exportData","syncType"].includes(n))return;["workspaceDomain","email","clientID","workspaceDomain","customCss","nameTemplate","notificationEmail","emailReportRecipients","wooCommerceUploadFolderNameTemplate","customSyncInterval"].includes(n)&&(e=2e3),["customCss"].includes(n)&&(e=5e3);break}p.current=s;var a=setTimeout((function(){g()}),e);return function(){return clearTimeout(a)}}}),[s]),React.createElement("div",{className:"igd-settings"},React.createElement("div",{className:"igd-settings-header"},React.createElement("div",{className:"igd-settings-header-title"},React.createElement("img",{src:"".concat(igd.pluginUrl,"/assets/images/settings/settings-icon.svg"),alt:"Settings"}),React.createElement("span",null,wp.i18n.__("Settings","integrate-google-drive"))),React.createElement("div",{className:"igd-settings-header-action"},React.createElement("button",{type:"button",className:"igd-btn btn-primary",onClick:g},n?React.createElement("div",{className:"igd-spinner"}):React.createElement("i",{className:"dashicons dashicons-saved"}),React.createElement("span",null,n?wp.i18n.__("Saving...","integrate-google-drive"):wp.i18n.__("Save Changes","integrate-google-drive"))))),React.createElement("div",{className:"igd-settings-menu"},e.map((function(e){var t=e.key,n=e.title,a=t===i,r="".concat(igd.pluginUrl,"/assets/images/settings/menu/").concat(t,".svg");return React.createElement("div",{key:t,className:"igd-settings-menu-item ".concat(a?"active":""),onClick:function(){return l(t)}},React.createElement("img",{src:r,alt:n}),React.createElement("span",null,n))}))),"accounts"===i&&React.createElement(E,null),"advanced"===i&&React.createElement(k,{data:s,setData:d}),"appearance"===i&&React.createElement(xe,{data:s,setData:d}),"sync"===i&&React.createElement(G,{data:s,setData:d}),"privateFolders"===i&&React.createElement(Se,{data:s,setData:d}),"integrations"===i&&React.createElement($,{data:s,setData:d}),"mediaLibrary"===i&&React.createElement(Vt,{data:s,setData:d}),"woocommerce"===i&&React.createElement(_t,{data:s,setData:d}),"dokan"===i&&React.createElement(Ft,{data:s,setData:d}),"userAccess"===i&&React.createElement(nt,{data:s,setData:d}),"statistics"===i&&React.createElement(se,{data:s,setData:d}),"tools"===i&&React.createElement(We,{data:s,setData:d,saveSettings:g}))}var tn=document.getElementById("igd-settings");tn&&ReactDOM.render(React.createElement(en,null),tn)})();